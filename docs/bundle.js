(()=>{"use strict";var e=function(){function e(e){this.points=e}return e.prototype.gainPoint=function(){this.points++},e.prototype.winGame=function(e,t){e.interval.pause(),t.canMove=!1,e.displayWin(this.points)},e}(),t=function(){function e(){this.interval=this.startTimer(0)}return e.prototype.createHTMLBoard=function(e){for(var t=document.querySelector("#board"),n='<div class="grid-container">',a=0;a<9;a++)for(var o=0;o<9;o++){var r=o-1+7*(a-1);if(0!=a&&0!=o&&8!=a&&8!=o||(r=-1),-1!=r){n+='<div class="tile-grid tilerow'+a+" tilecol"+o+" tile"+r+' shadow-sm rounded">';for(var i=0;i<3;i++)for(var s=0;s<3;s++){var l=s+3*i;0!=a&&0!=o&&8!=a&&8!=o||(l=-1),n+='<div class="grid-item grow'+(3*(a-1)+i)+" gcol"+(3*(o-1)+s)+" tile"+r+" cell"+l+'"><span></span></div>'}n+="</div>"}else if(n+='<div class="outTile tilerow'+a+" rounded tilecol"+o,0==a&&(2==o||4==o||6==o)||8==a&&(2==o||4==o||6==o)||0==o&&(2==a||4==a||6==a)||8==o&&(2==a||4==a||6==a))n+=' push-tiles"><span class="btn btn-light shadow-sm"></span></div>';else{var c=0,u=0;0==a?(c=3*o-2,u=-1):8==a?(c=3*o-2,u=21):0==o?(c=-1,u=3*a-2):8==o&&(c=21,u=3*a-2),n+=" grow"+u+" gcol"+c+'"><span></span></div>'}}n+="</div>",t.innerHTML=n},e.prototype.placeTiles=function(e){e.boardRows.forEach((function(e,t){e.tiles.forEach((function(e,n){e.cells.forEach((function(e,a){e.isWalkable&&document.querySelector(".tile"+(n+7*t)+".cell"+a).classList.add("walkable"),e.hasConcept&&document.querySelector(".tile"+(n+7*t)+".cell"+a).classList.add("hasConcept")}))}))}))},e.prototype.placePawn=function(e){document.querySelector(".grow"+e[0]+".gcol"+e[1]).classList.add("occupied")},e.prototype.removePawn=function(e){document.querySelector(".grow"+e[0]+".gcol"+e[1]).classList.remove("occupied")},e.prototype.getDivClassesByCoords=function(e,t){return document.querySelector(".grow"+e+".gcol"+t).classList.value.split(" ")},e.prototype.getParentCellDiv=function(e,t){return document.querySelector(".grow"+e+".gcol"+t).parentElement},e.prototype.changeTileOccupied=function(e,t){e.classList.remove("tile-occupied"),t.classList.add("tile-occupied")},e.prototype.placeExtraTile=function(e){for(var t=document.querySelector("#extraTile"),n='<div class="tile-grid extra-tile shadow-sm rounded">',a=0;a<3;a++)for(var o=0;o<3;o++)n+='<div class="grid-item extra-tile cell'+(o+3*a)+'"><span></span></div>';n+="</div>",t.innerHTML=n,e.cells.forEach((function(e,t){e.isWalkable&&document.querySelector(".extra-tile.cell"+t).classList.add("walkable")}))},e.prototype.lineContainsPawn=function(e){var t=!1;return document.querySelectorAll("."+e).forEach((function(e){e.classList.contains("tile-occupied")&&(t=!0)})),t},e.prototype.refreshLine=function(e,t,n){var a=document.getElementById("pushtiles-track");a.pause(),a.currentTime=0,a.play(),e.includes("col")?n.boardRows.forEach((function(e,n){e.tiles[t].cells.forEach((function(e,a){document.querySelector(".tile"+(t+7*n)+".cell"+a).classList.remove("walkable"),e.isWalkable&&document.querySelector(".tile"+(t+7*n)+".cell"+a).classList.add("walkable")}))})):n.boardRows[t].tiles.forEach((function(e,n){e.cells.forEach((function(e,a){document.querySelector(".tile"+(n+7*t)+".cell"+a).classList.remove("walkable"),e.isWalkable&&document.querySelector(".tile"+(n+7*t)+".cell"+a).classList.add("walkable")}))}))},e.prototype.placeGoal=function(e){document.querySelector("."+e.col+"."+e.row+".outTile").classList.add("goal"),document.querySelector("."+e.tile+"."+e.cell+".grid-item").classList.add("walkable")},e.prototype.setPoints=function(e){document.querySelector("#point-tracker").innerHTML="<strong>Trees:</strong> "+e},e.prototype.startTimer=function(e){var t,n,a,o=1e3*e;return(a={}).resume=function(){t=(new Date).getTime(),n=setInterval(a.step,250)},a.pause=function(){o=a.step(),clearInterval(n)},a.step=function(){var e=Math.max(0,o+((new Date).getTime()-t)),r=Math.floor(e/6e4),i=Math.floor(e/1e3)%60,s=(i<10?"0":"")+i;return document.querySelector("#time-tracker").innerHTML="<strong>Time:</strong> "+r+":"+s,0==e&&(clearInterval(n),a.resume=function(){}),e},a.resume(),a},e.prototype.exploreConcept=function(e,t,n){var a=document.getElementById("reward");a.pause(),a.currentTime=0,a.play(),document.querySelector(".grow"+e+".gcol"+t).classList.remove("hasConcept"),document.querySelector(".grow"+e+".gcol"+t).classList.add("conceptExplored"),this.displayConcept(n)},e.prototype.displayWin=function(e){var t=document.getElementById("main-track");t.pause(),t.currentTime=0;var n=document.getElementById("win-track");if(n.pause(),n.currentTime=0,n.play(),e<12)document.querySelector("#win-modal-message").innerHTML="You have won the game! Well done! Can you plant more trees before leaving the maze the next time you play?";else{var a=this.interval.step(),o=Math.floor(a/1e3/60),r=Math.floor(a/1e3)-60*o;document.querySelector("#win-modal-message").innerHTML="You have won the game and planted all the trees in "+o+"m and "+r+"s! Can you improve your time?"}this.displayModal("win-modal")},e.prototype.movePawn=function(e,t){var n=document.getElementById("move");n.pause(),n.currentTime=0,n.play(),this.removePawn(e),this.placePawn(t)},e.prototype.displayConcept=function(e){this.interval.pause(),e&&(document.querySelector("#concept-modal-title").innerHTML=e.concept,document.querySelector("#concept-modal-message").innerHTML=e.description,document.querySelector("#concept-modal-gamecase").innerHTML=e.gameCase,document.querySelector("#concept-modal-image").innerHTML=e.image),this.displayModal("concept-modal")},e.prototype.closeDialog=function(e){var t=document.getElementById("close-track");t.pause(),t.currentTime=0,t.play();var n=document.querySelector("#"+e);n.classList.remove("show"),n.style.display="none"},e.prototype.rotateSound=function(){var e=document.getElementById("rotate-track");e.pause(),e.currentTime=0,e.play()},e.prototype.displayModal=function(e){var t=document.querySelector("#"+e);t.classList.add("show"),t.style.display="block"},e.prototype.setAvatar=function(e){var t=document.querySelector(":root");switch(e){case"avatar-lion":t.style.setProperty("--avatar-path","url(./static/avatars/lion.png");break;case"avatar-cat":t.style.setProperty("--avatar-path","url(./static/avatars/cat.png");break;case"avatar-dog":t.style.setProperty("--avatar-path","url(./static/avatars/dog.png");break;case"avatar-bear":t.style.setProperty("--avatar-path","url(./static/avatars/bear.png");break;case"avatar-deer":t.style.setProperty("--avatar-path","url(./static/avatars/deer.png");break;case"avatar-chicken":t.style.setProperty("--avatar-path","url(./static/avatars/chicken.png");break;case"avatar-giraffe":t.style.setProperty("--avatar-path","url(./static/avatars/giraffe.png");break;case"avatar-koala":t.style.setProperty("--avatar-path","url(./static/avatars/koala.png");break;case"avatar-panda":t.style.setProperty("--avatar-path","url(./static/avatars/panda.png");break;case"avatar-puffer-fish":t.style.setProperty("--avatar-path","url(./static/avatars/puffer-fish.png");break;case"avatar-rabbit":t.style.setProperty("--avatar-path","url(./static/avatars/rabbit.png");break;case"avatar-sea-lion":t.style.setProperty("--avatar-path","url(./static/avatars/sea-lion.png");break;default:t.style.setProperty("--avatar-path","url(./static/pawn.png")}},e}(),n=function(e){this.tiles=e},a=function(){function e(e,t,n,a,o){void 0===n&&(n=""),void 0===a&&(a=""),void 0===o&&(o=!1),this.isWalkable=e,this.hasConcept=t,this.concept=n,this.conceptDes=a,this.conceptExplored=o}return e.prototype.exploreConcept=function(){return 1},e}(),o=function(){function e(e){this.cells=e}return e.prototype.rotate=function(e,t){for(var n=0;n<t;n++)switch(e){case"r":this.cells=[this.cells[6],this.cells[3],this.cells[0],this.cells[7],this.cells[4],this.cells[1],this.cells[8],this.cells[5],this.cells[2]];break;case"l":this.cells=[this.cells[2],this.cells[5],this.cells[8],this.cells[1],this.cells[4],this.cells[7],this.cells[0],this.cells[3],this.cells[6]]}return 1},e}(),r=function(){function e(e){this.boardRows=e}return e.prototype.pushLine=function(e,t,n,a,r){var i,s=this.cloneBoard(r);switch(e){case"v":switch(t){case"d":s.boardRows[0].tiles[n]=a,r.boardRows.forEach((function(e,t){t<r.boardRows.length-1?s.boardRows[t+1].tiles[n]=e.tiles[n]:i=new o(e.tiles[n].cells)}));break;case"u":s.boardRows[6].tiles[n]=a,r.boardRows.forEach((function(e,t){t>0?s.boardRows[t-1].tiles[n]=e.tiles[n]:i=new o(e.tiles[n].cells)}))}break;case"h":switch(t){case"r":s.boardRows[n].tiles[0]=a,r.boardRows[n].tiles.forEach((function(e,t){t<r.boardRows[n].tiles.length-1?s.boardRows[n].tiles[t+1]=e:i=new o(e.cells)}));break;case"l":s.boardRows[n].tiles[6]=a,r.boardRows[n].tiles.forEach((function(e,t){t>0?s.boardRows[n].tiles[t-1]=e:i=new o(e.cells)}))}}return[s,i]},e.prototype.cloneBoard=function(t){var r=[];return t.boardRows.forEach((function(e){var t=[];e.tiles.forEach((function(e){var n=[];e.cells.forEach((function(e){var t=new a(e.isWalkable,e.hasConcept,e.concept,e.conceptDes,e.conceptExplored);n.push(t)}));var r=new o(n);t.push(r)}));var i=new n(t);r.push(i)})),new e(r)},e}(),i=[new o([new a(!1,!1),new a(!1,!1),new a(!1,!1),new a(!1,!1),new a(!0,!1),new a(!0,!1),new a(!1,!1),new a(!0,!1),new a(!1,!1)]),new o([new a(!1,!1),new a(!1,!1),new a(!1,!1),new a(!0,!1),new a(!0,!0),new a(!0,!1),new a(!1,!1),new a(!0,!1),new a(!1,!1)]),new o([new a(!1,!1),new a(!1,!1),new a(!1,!1),new a(!0,!1),new a(!0,!0),new a(!0,!1),new a(!1,!1),new a(!0,!1),new a(!1,!1)]),new o([new a(!1,!1),new a(!1,!1),new a(!1,!1),new a(!0,!1),new a(!0,!1),new a(!1,!1),new a(!1,!1),new a(!0,!1),new a(!1,!1)]),new o([new a(!1,!1),new a(!0,!1),new a(!1,!1),new a(!1,!1),new a(!0,!0),new a(!0,!1),new a(!1,!1),new a(!0,!1),new a(!1,!1)]),new o([new a(!1,!1),new a(!0,!1),new a(!1,!1),new a(!1,!1),new a(!0,!0),new a(!0,!1),new a(!1,!1),new a(!0,!1),new a(!1,!1)]),new o([new a(!1,!1),new a(!1,!1),new a(!1,!1),new a(!0,!1),new a(!0,!0),new a(!0,!1),new a(!1,!1),new a(!0,!1),new a(!1,!1)]),new o([new a(!1,!1),new a(!0,!1),new a(!1,!1),new a(!0,!1),new a(!0,!0),new a(!1,!1),new a(!1,!1),new a(!0,!1),new a(!1,!1)]),new o([new a(!1,!1),new a(!0,!1),new a(!1,!1),new a(!1,!1),new a(!0,!0),new a(!0,!1),new a(!1,!1),new a(!0,!1),new a(!1,!1)]),new o([new a(!1,!1),new a(!0,!1),new a(!1,!1),new a(!0,!1),new a(!0,!0),new a(!0,!1),new a(!1,!1),new a(!1,!1),new a(!1,!1)]),new o([new a(!1,!1),new a(!0,!1),new a(!1,!1),new a(!0,!1),new a(!0,!0),new a(!1,!1),new a(!1,!1),new a(!0,!1),new a(!1,!1)]),new o([new a(!1,!1),new a(!0,!1),new a(!1,!1),new a(!0,!1),new a(!0,!0),new a(!1,!1),new a(!1,!1),new a(!0,!1),new a(!1,!1)]),new o([new a(!1,!1),new a(!0,!1),new a(!1,!1),new a(!1,!1),new a(!0,!1),new a(!0,!1),new a(!1,!1),new a(!1,!1),new a(!1,!1)]),new o([new a(!1,!1),new a(!0,!1),new a(!1,!1),new a(!0,!1),new a(!0,!0),new a(!0,!1),new a(!1,!1),new a(!1,!1),new a(!1,!1)]),new o([new a(!1,!1),new a(!0,!1),new a(!1,!1),new a(!0,!1),new a(!0,!0),new a(!0,!1),new a(!1,!1),new a(!1,!1),new a(!1,!1)]),new o([new a(!1,!1),new a(!0,!1),new a(!1,!1),new a(!0,!1),new a(!0,!1),new a(!1,!1),new a(!1,!1),new a(!1,!1),new a(!1,!1)])],s=[{row:"tilerow0",col:"tilecol3",tile:"tile2",cell:"cell1"},{row:"tilerow0",col:"tilecol5",tile:"tile4",cell:"cell1"},{row:"tilecol0",col:"tilerow3",tile:"tile14",cell:"cell3"},{row:"tilecol0",col:"tilerow5",tile:"tile28",cell:"cell3"},{row:"tilecol8",col:"tilerow3",tile:"tile20",cell:"cell5"},{row:"tilecol8",col:"tilerow5",tile:"tile34",cell:"cell5"},{row:"tilerow8",col:"tilecol3",tile:"tile44",cell:"cell7"},{row:"tilerow8",col:"tilecol5",tile:"tile46",cell:"cell7"}],l=[{concept:"Reduce",description:"Reducing is simply creating less waste. It’s the best method for keeping the environment clean, so it’s the first of the 3 Rs. By reducing, you stop the problem at the source.",gameCase:"The tiles for this maze have been generated once and they will be used each time anyone plays this game.",image:'<img src="./static/reduce.jpg">'},{concept:"Reuse",description:"Reuse items as much as you can before replacing them. Reusing is taking old or unwanted items you might otherwise throw away and finding a new use for them.",gameCase:"Each time you play this game, the same set of tiles will be reused just in a different place and order.",image:'<img src="./static/reuse.jpg">'},{concept:"Recycle",description:"Recycling is the last — and most commonly used — of the 3 Rs. Recycling is changing discarded materials into new products in order to avoid using more virgin resources.",gameCase:"",image:'<img src="./static/recycle.jpg">'}],c=[{concept:"Disposable products",description:"Disposable products are products that are ment to be discarded as waste after a single or a few uses. It is better to avoid the consumption of this kind of products when possible.",gameCase:"The tiles genereted for this maze are not disposable, as the same tiles will be used each time you or anyone plays the game.",image:'<img src="./static/disposable.jpg">'},{concept:"Landfill",description:"Landfill is a site for the disposal of waste materials.",gameCase:"",image:'<img src="./static/landfill.jpg">'},{concept:"Regenerate",description:"Regenerative sustainability actively seeks to restore and revitalize natural systems. For example, to reforest, to reduce the amount of greenhouse gases on the athmosphere, to reintroduce species to their home environments.",gameCase:"In this game, you are encouraged to go through all small plants and help them grow into mature trees, which absorb greenhouse gases.",image:'<img src="./static/regenerate.jpg">'},{concept:"Recover",description:"The act of putting waste products to use. For example, decomposing garbage produces methane gas, which can be recovered and burnt to produce energy.",gameCase:"",image:'<img src="./static/recover.jpg">'},{concept:"Composting",description:"Composting is nature’s way of recycling. It is one of the most powerful actions we can take to reduce our trash. By turning our food scraps and yard trim into compost, we can transform our waste streams into rich soil for plants to grow.",gameCase:"",image:'<img src="./static/composting.jpg">'},{concept:"Waste",description:"Waste is a product or substance which is no longer suited for its intended use. Any product that we don't reuse or recycle that we discard, is waste. It is what we aim to reduce. When some kinds of waste rots methane is produced. Methane is a greenhouse gas that contributes to global warming.",gameCase:"",image:'<img src="./static/waste.jpg">'},{concept:"Global warming",description:"Global warming is the current rise in temperature of the air and oceans. Global warming is a significant and rapidly accelerating issue caused by human activities, such as greenhouse gas emissions, deforestation, and the burning of fossil fuels.",gameCase:"",image:'<img src="./static/globalwarming.jpg">'},{concept:"Greenhouse gases",description:"Greenhouse gases are gases that absorb and emit infrared radiation and heat the Earth. They are required to keep the Earth warmth, but on a high level of presence in the athmosphere they can increase global warming.",gameCase:"In this game, you are encouraged to go through all small plants and help them grow into mature trees, which absorb greenhouse gases.",image:'<img src="./static/greenhouse.jpg">'},{concept:"Sustainability",description:"Sustainability means meeting our own needs without compromising the ability of future generations to meet their own needs.",gameCase:"",image:'<img src="./static/sustainability.jpg">'},{concept:"Pollution",description:"Pollution is the introduction of contaminants into the natural environment that cause adverse change.",gameCase:"",image:'<img src="./static/pollution.jpg">'}],u=function(){function e(){this.mainConcepts=l.slice(),this.secondaryConcepts=c.slice()}return e.prototype.getConcept=function(){return this.mainConcepts.length>0?this.getMainConcept():this.secondaryConcepts.length>0?this.getSecondaryConcept():void 0},e.prototype.getMainConcept=function(){var e=Math.floor(Math.random()*this.mainConcepts.length),t=this.mainConcepts[e];return this.mainConcepts.splice(e,1),t},e.prototype.getSecondaryConcept=function(){var e=Math.floor(Math.random()*this.secondaryConcepts.length),t=this.secondaryConcepts[e];return this.secondaryConcepts.splice(e,1),t},e}(),d=function(){function e(){this.randomTiles=this.createMoveableTiles()}return e.prototype.createBoard=function(){var e=[],t=this.takeNTiles(3);return e.push(new n([i[0],t[0],i[1],t[1],i[2],t[2],i[3]])),e.push(new n(this.takeNTiles(7))),t=this.takeNTiles(3),e.push(new n([i[4],t[0],i[5],t[1],i[6],t[2],i[7]])),e.push(new n(this.takeNTiles(7))),t=this.takeNTiles(3),e.push(new n([i[8],t[0],i[9],t[1],i[10],t[2],i[11]])),e.push(new n(this.takeNTiles(7))),t=this.takeNTiles(3),e.push(new n([i[12],t[0],i[13],t[1],i[14],t[2],i[15]])),new r(e)},e.prototype.setStartingPosition=function(e){switch(Math.floor(4*Math.random())){case 0:default:return[1,1];case 1:return[19,1];case 2:return[1,19];case 3:return[19,19]}},e.prototype.createMoveableTiles=function(){for(var e=[],t=[new a(!1,!1),new a(!1,!1),new a(!1,!1),new a(!0,!1),new a(!0,!1),new a(!0,!1),new a(!1,!1),new a(!1,!1),new a(!1,!1)],n=0;n<12;n++){var r=t.slice(),i=new o(r);e.push(i)}var s=[new a(!1,!1),new a(!1,!1),new a(!1,!1),new a(!0,!1),new a(!0,!1),new a(!0,!1),new a(!1,!1),new a(!0,!1),new a(!1,!1)];for(n=0;n<6;n++){r=s.slice();var l=new o(r);e.push(l)}var c=[new a(!1,!1),new a(!1,!1),new a(!1,!1),new a(!1,!1),new a(!0,!1),new a(!0,!1),new a(!1,!1),new a(!0,!1),new a(!1,!1)];for(n=0;n<16;n++){r=c.slice();var u=new o(r);e.push(u)}return e},e.prototype.takeNTiles=function(e){for(var t=[],n=0;n<e;n++){var a=Math.floor(Math.random()*this.randomTiles.length),o=this.randomTiles[a],r=Math.floor(4*Math.random());o.rotate("r",r),t.push(o),this.randomTiles.splice(a,1)}return t},e.prototype.getExtraTile=function(){return this.randomTiles[0]},e.prototype.setGoal=function(){var e=Math.floor(Math.random()*s.length);return s[e]},e.prototype.setConcepts=function(){return new u},e.prototype.playAudio=function(){var e=document.getElementById("main-track");e.pause(),e.currentTime=0,e.volume=.5,e.play()},e}(),p=function(){function e(e,t){this.pawnX=e[0],this.pawnY=e[1],this.canMove=!1,t.getParentCellDiv(this.pawnX,this.pawnY).classList.add("tile-occupied")}return e.prototype.movePawn=function(e,t,n){if(!this.canMove)return-1;var a=void 0,o=void 0;switch(e){case"up":a=this.pawnX-1,o=this.pawnY;break;case"down":a=this.pawnX+1,o=this.pawnY;break;case"right":a=this.pawnX,o=this.pawnY+1;break;case"left":a=this.pawnX,o=this.pawnY-1;break;default:return-1}if(!t.getDivClassesByCoords(a,o).includes("goal")){if(t.getDivClassesByCoords(a,o).includes("walkable")){var r=t.getParentCellDiv(this.pawnX,this.pawnY),i=t.getParentCellDiv(a,o);return this.pawnX=a,this.pawnY=o,r.classList!=i.classList&&t.changeTileOccupied(r,i),1}return-1}n.winGame(t,this)},e.prototype.getPawnCoords=function(){return[this.pawnX,this.pawnY]},e}(),w={tilerow0:{verticality:"v",direction:"d",lines:[{number:1,lineName:"tilecol2"},{number:3,lineName:"tilecol4"},{number:5,lineName:"tilecol6"}],opposedLine:"tilerow8"},tilerow8:{verticality:"v",direction:"u",lines:[{number:1,lineName:"tilecol2"},{number:3,lineName:"tilecol4"},{number:5,lineName:"tilecol6"}],opposedLine:"tilerow0"},tilecol0:{verticality:"h",direction:"r",lines:[{number:1,lineName:"tilerow2"},{number:3,lineName:"tilerow4"},{number:5,lineName:"tilerow6"}],opposedLine:"tilecol8"},tilecol8:{verticality:"h",direction:"l",lines:[{number:1,lineName:"tilerow2"},{number:3,lineName:"tilerow4"},{number:5,lineName:"tilerow6"}],opposedLine:"tilecol0"}},m=["tilerow0","tilerow8","tilecol0","tilecol8"];window.addEventListener("DOMContentLoaded",(function(){!function n(a){var o=document.querySelector("#main-container").innerHTML,r=new d,i=r.createBoard(),s=r.setConcepts(),l=new e(0),c=new t;c.createHTMLBoard(i),c.placeTiles(i);var u=r.getExtraTile();c.placeExtraTile(u),c.placeGoal(r.setGoal()),c.setPoints(l.points);var h=r.setStartingPosition(i),g=new p(h,c);function v(e){var t=e.target.id,n=-1,a=g.getPawnCoords();switch(t){case"arrow-up":n=g.movePawn("up",c,l);break;case"arrow-down":n=g.movePawn("down",c,l);break;case"arrow-left":n=g.movePawn("left",c,l);break;case"arrow-right":n=g.movePawn("right",c,l)}1==n&&y(a,g.getPawnCoords())}function y(e,t){c.movePawn(e,t),c.getDivClassesByCoords(t[0],t[1]).includes("hasConcept")&&(l.gainPoint(),c.setPoints(l.points),g.canMove=!1,c.exploreConcept(t[0],t[1],s.getConcept()))}function f(e){if(g.canMove){var t=e.srcElement.classList;m.forEach((function(e){if(t.contains(e)){var n=w[e];n.lines.forEach((function(e){var a;t.contains(e.lineName)&&(c.lineContainsPawn(e.lineName)||(a=i.pushLine(n.verticality,n.direction,e.number,u,i),i=a[0],u=a[1],c.refreshLine(e.lineName,e.number,i),c.placeExtraTile(u)))}))}}))}}function b(e){var t="concept-modal";switch(e.target.id){case"close-concept-modal":t="concept-modal";break;case"close-tutorial-modal":t="tutorial-modal";break;case"avatar-modal":t="avatar-modal"}c.interval.resume(),c.closeDialog(t),g.canMove=!0}function k(){c.interval.pause(),document.querySelector("#main-container").innerHTML=o,n(!1),r.playAudio()}function C(e){var t=e.srcElement.id;c.setAvatar(t),c.closeDialog("avatar-modal"),c.interval.resume(),g.canMove=!0}c.placePawn(h),g.canMove=!0,document.onkeydown=function(e){var t=-1,n=g.getPawnCoords();"38"==(e=e||window.event).keyCode?t=g.movePawn("up",c,l):"40"==e.keyCode?t=g.movePawn("down",c,l):"37"==e.keyCode?t=g.movePawn("left",c,l):"39"==e.keyCode&&(t=g.movePawn("right",c,l)),1==t&&y(n,g.getPawnCoords())},document.querySelectorAll(".arrow-key").forEach((function(e){e.addEventListener("click",v)})),document.querySelector("#turn-extra-tile-right").addEventListener("click",(function(){u.rotate("r",1),c.placeExtraTile(u),c.rotateSound()})),document.querySelectorAll(".push-tiles").forEach((function(e){e.addEventListener("click",f)})),document.querySelector("#close-concept-modal").addEventListener("click",b),document.querySelector("#btn-play-again").addEventListener("click",k),document.querySelector(".restart").addEventListener("click",k),document.querySelector("#credits").addEventListener("click",(function(){c.closeDialog("win-modal"),c.displayModal("credits-modal")})),document.querySelector("#credits-back").addEventListener("click",(function(){c.closeDialog("credits-modal"),c.displayModal("win-modal")})),document.querySelector(".topbuttons.tutorial").addEventListener("click",(function(){c.interval.pause(),g.canMove=!1,c.displayModal("tutorial-modal")})),document.querySelector("#push-tiles-button").addEventListener("click",(function(){c.closeDialog("tutorial-modal"),c.displayModal("push-tiles-modal")})),document.querySelector("#close-push-tiles-modal").addEventListener("click",(function(){c.closeDialog("push-tiles-modal"),c.displayModal("tutorial-modal")})),document.querySelector("#close-tutorial-modal").addEventListener("click",b),a&&(c.interval.pause(),g.canMove=!1,c.displayModal("welcome-modal")),document.querySelector("#btn-start").addEventListener("click",(function(){r.playAudio(),c.closeDialog("welcome-modal"),c.displayModal("avatar-modal")})),document.querySelectorAll(".avatar-icon").forEach((function(e){e.addEventListener("click",C)}))}(!0)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FBUyxHQUFNLEdBQ25CLElBQUlBLEdBQVMsR0FBSyxHQUNsQixJQUFJQSxHQUFTLEdBQU0sS0FFdkIsSUFBSU4sRUFBSyxDQUNMLElBQUlNLEdBQVMsR0FBTSxHQUNuQixJQUFJQSxHQUFTLEdBQU0sR0FDbkIsSUFBSUEsR0FBUyxHQUFNLEdBQ25CLElBQUlBLEdBQVMsR0FBSyxHQUNsQixJQUFJQSxHQUFTLEdBQUssR0FDbEIsSUFBSUEsR0FBUyxHQUFLLEdBQ2xCLElBQUlBLEdBQVMsR0FBTSxHQUNuQixJQUFJQSxHQUFTLEdBQUssR0FDbEIsSUFBSUEsR0FBUyxHQUFNLEtBRXZCLElBQUlOLEVBQUssQ0FDTCxJQUFJTSxHQUFTLEdBQU0sR0FDbkIsSUFBSUEsR0FBUyxHQUFNLEdBQ25CLElBQUlBLEdBQVMsR0FBTSxHQUNuQixJQUFJQSxHQUFTLEdBQUssR0FDbEIsSUFBSUEsR0FBUyxHQUFLLEdBQ2xCLElBQUlBLEdBQVMsR0FBTSxHQUNuQixJQUFJQSxHQUFTLEdBQU0sR0FDbkIsSUFBSUEsR0FBUyxHQUFLLEdBQ2xCLElBQUlBLEdBQVMsR0FBTSxLQUV2QixJQUFJTixFQUFLLENBQ0wsSUFBSU0sR0FBUyxHQUFNLEdBQ25CLElBQUlBLEdBQVMsR0FBSyxHQUNsQixJQUFJQSxHQUFTLEdBQU0sR0FDbkIsSUFBSUEsR0FBUyxHQUFNLEdBQ25CLElBQUlBLEdBQVMsR0FBSyxHQUNsQixJQUFJQSxHQUFTLEdBQUssR0FDbEIsSUFBSUEsR0FBUyxHQUFNLEdBQ25CLElBQUlBLEdBQVMsR0FBSyxHQUNsQixJQUFJQSxHQUFTLEdBQU0sS0FFdkIsSUFBSU4sRUFBSyxDQUNMLElBQUlNLEdBQVMsR0FBTSxHQUNuQixJQUFJQSxHQUFTLEdBQUssR0FDbEIsSUFBSUEsR0FBUyxHQUFNLEdBQ25CLElBQUlBLEdBQVMsR0FBTSxHQUNuQixJQUFJQSxHQUFTLEdBQUssR0FDbEIsSUFBSUEsR0FBUyxHQUFLLEdBQ2xCLElBQUlBLEdBQVMsR0FBTSxHQUNuQixJQUFJQSxHQUFTLEdBQUssR0FDbEIsSUFBSUEsR0FBUyxHQUFNLEtBRXZCLElBQUlOLEVBQUssQ0FDTCxJQUFJTSxHQUFTLEdBQU0sR0FDbkIsSUFBSUEsR0FBUyxHQUFNLEdBQ25CLElBQUlBLEdBQVMsR0FBTSxHQUNuQixJQUFJQSxHQUFTLEdBQUssR0FDbEIsSUFBSUEsR0FBUyxHQUFLLEdBQ2xCLElBQUlBLEdBQVMsR0FBSyxHQUNsQixJQUFJQSxHQUFTLEdBQU0sR0FDbkIsSUFBSUEsR0FBUyxHQUFLLEdBQ2xCLElBQUlBLEdBQVMsR0FBTSxLQUV2QixJQUFJTixFQUFLLENBQ0wsSUFBSU0sR0FBUyxHQUFNLEdBQ25CLElBQUlBLEdBQVMsR0FBSyxHQUNsQixJQUFJQSxHQUFTLEdBQU0sR0FDbkIsSUFBSUEsR0FBUyxHQUFLLEdBQ2xCLElBQUlBLEdBQVMsR0FBSyxHQUNsQixJQUFJQSxHQUFTLEdBQU0sR0FDbkIsSUFBSUEsR0FBUyxHQUFNLEdBQ25CLElBQUlBLEdBQVMsR0FBSyxHQUNsQixJQUFJQSxHQUFTLEdBQU0sS0FFdkIsSUFBSU4sRUFBSyxDQUNMLElBQUlNLEdBQVMsR0FBTSxHQUNuQixJQUFJQSxHQUFTLEdBQUssR0FDbEIsSUFBSUEsR0FBUyxHQUFNLEdBQ25CLElBQUlBLEdBQVMsR0FBTSxHQUNuQixJQUFJQSxHQUFTLEdBQUssR0FDbEIsSUFBSUEsR0FBUyxHQUFLLEdBQ2xCLElBQUlBLEdBQVMsR0FBTSxHQUNuQixJQUFJQSxHQUFTLEdBQUssR0FDbEIsSUFBSUEsR0FBUyxHQUFNLEtBRXZCLElBQUlOLEVBQUssQ0FDTCxJQUFJTSxHQUFTLEdBQU0sR0FDbkIsSUFBSUEsR0FBUyxHQUFLLEdBQ2xCLElBQUlBLEdBQVMsR0FBTSxHQUNuQixJQUFJQSxHQUFTLEdBQUssR0FDbEIsSUFBSUEsR0FBUyxHQUFLLEdBQ2xCLElBQUlBLEdBQVMsR0FBSyxHQUNsQixJQUFJQSxHQUFTLEdBQU0sR0FDbkIsSUFBSUEsR0FBUyxHQUFNLEdBQ25CLElBQUlBLEdBQVMsR0FBTSxLQUV2QixJQUFJTixFQUFLLENBQ0wsSUFBSU0sR0FBUyxHQUFNLEdBQ25CLElBQUlBLEdBQVMsR0FBSyxHQUNsQixJQUFJQSxHQUFTLEdBQU0sR0FDbkIsSUFBSUEsR0FBUyxHQUFLLEdBQ2xCLElBQUlBLEdBQVMsR0FBSyxHQUNsQixJQUFJQSxHQUFTLEdBQU0sR0FDbkIsSUFBSUEsR0FBUyxHQUFNLEdBQ25CLElBQUlBLEdBQVMsR0FBSyxHQUNsQixJQUFJQSxHQUFTLEdBQU0sS0FFdkIsSUFBSU4sRUFBSyxDQUNMLElBQUlNLEdBQVMsR0FBTSxHQUNuQixJQUFJQSxHQUFTLEdBQUssR0FDbEIsSUFBSUEsR0FBUyxHQUFNLEdBQ25CLElBQUlBLEdBQVMsR0FBSyxHQUNsQixJQUFJQSxHQUFTLEdBQUssR0FDbEIsSUFBSUEsR0FBUyxHQUFNLEdBQ25CLElBQUlBLEdBQVMsR0FBTSxHQUNuQixJQUFJQSxHQUFTLEdBQUssR0FDbEIsSUFBSUEsR0FBUyxHQUFNLEtBRXZCLElBQUlOLEVBQUssQ0FDTCxJQUFJTSxHQUFTLEdBQU0sR0FDbkIsSUFBSUEsR0FBUyxHQUFLLEdBQ2xCLElBQUlBLEdBQVMsR0FBTSxHQUNuQixJQUFJQSxHQUFTLEdBQU0sR0FDbkIsSUFBSUEsR0FBUyxHQUFLLEdBQ2xCLElBQUlBLEdBQVMsR0FBSyxHQUNsQixJQUFJQSxHQUFTLEdBQU0sR0FDbkIsSUFBSUEsR0FBUyxHQUFNLEdBQ25CLElBQUlBLEdBQVMsR0FBTSxLQUV2QixJQUFJTixFQUFLLENBQ0wsSUFBSU0sR0FBUyxHQUFNLEdBQ25CLElBQUlBLEdBQVMsR0FBSyxHQUNsQixJQUFJQSxHQUFTLEdBQU0sR0FDbkIsSUFBSUEsR0FBUyxHQUFLLEdBQ2xCLElBQUlBLEdBQVMsR0FBSyxHQUNsQixJQUFJQSxHQUFTLEdBQUssR0FDbEIsSUFBSUEsR0FBUyxHQUFNLEdBQ25CLElBQUlBLEdBQVMsR0FBTSxHQUNuQixJQUFJQSxHQUFTLEdBQU0sS0FFdkIsSUFBSU4sRUFBSyxDQUNMLElBQUlNLEdBQVMsR0FBTSxHQUNuQixJQUFJQSxHQUFTLEdBQUssR0FDbEIsSUFBSUEsR0FBUyxH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QWlCdUwsaUJBQWlCLFNBQ3pELFdBQ0lRLEVBQVFwRyxZQUFZLGlCQUNwQm9HLEVBQVE1RyxhQUFhLFlBQ3pCLElBR0FwRixTQUFTQyxjQUFjLHdCQUF3QnVMLGlCQUFpQixTQUNoRSxXQUNJUSxFQUFReE0sU0FBU0MsUUFDakIwTSxFQUFTek0sU0FBVSxFQUNuQnNNLEVBQVE1RyxhQUFhLGlCQUN6QixJQUVBcEYsU0FBU0MsY0FBYyxzQkFBc0J1TCxpQkFBaUIsU0FDOUQsV0FDSVEsRUFBUXBHLFlBQVksa0JBQ3BCb0csRUFBUTVHLGFBQWEsbUJBQ3pCLElBRUFwRixTQUFTQyxjQUFjLDJCQUEyQnVMLGlCQUFpQixTQUNuRSxXQUNJUSxFQUFRcEcsWUFBWSxvQkFDcEJvRyxFQUFRNUcsYUFBYSxpQkFDekIsSUFFQXBGLFNBQVNDLGNBQWMseUJBQXlCdUwsaUJBQWlCLFFBQVNzQixHQUd2RXBCLElBQ0NNLEVBQVF4TSxTQUFTQyxRQUNqQjBNLEVBQVN6TSxTQUFVLEVBQ25Cc00sRUFBUTVHLGFBQWEsa0JBR3pCcEYsU0FBU0MsY0FBYyxjQUFjdUwsaUJBQWlCLFNBVXRELFdBQ0lJLEVBQUt0QixZQUNMMEIsRUFBUXBHLFlBQVksaUJBQ3BCb0csRUFBUTVHLGFBQWEsZUFDekIsSUFFQXBGLFNBQVMyQyxpQkFBaUIsZ0JBQWdCOUIsU0FBUSxTQUFBeU0sR0FDOUNBLEVBQUk5QixpQkFBaUIsUUFBU3dCLEVBQ2xDLEdBVUosQ0FDQXZCLEVBQU0sRUFDVixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmV1c2FibGVtYXplLy4vdHMvY2xhc3Nlcy9nYW1lLmNsYXNzLnRzIiwid2VicGFjazovL3JldXNhYmxlbWF6ZS8uL3RzL2NsYXNzZXMvaHRtbERvY0hhbmRsZXIuY2xhc3MudHMiLCJ3ZWJwYWNrOi8vcmV1c2FibGVtYXplLy4vdHMvY2xhc3Nlcy9Cb2FyZFJvdy5jbGFzcy50cyIsIndlYnBhY2s6Ly9yZXVzYWJsZW1hemUvLi90cy9jbGFzc2VzL0dyaWRDZWxsLmNsYXNzLnRzIiwid2VicGFjazovL3JldXNhYmxlbWF6ZS8uL3RzL2NsYXNzZXMvVGlsZS5jbGFzcy50cyIsIndlYnBhY2s6Ly9yZXVzYWJsZW1hemUvLi90cy9jbGFzc2VzL0JvYXJkLmNsYXNzLnRzIiwid2VicGFjazovL3JldXNhYmxlbWF6ZS8uL3RzL2NvbnN0cy9maXhlZFRpbGVzLmNvbnN0LnRzIiwid2VicGFjazovL3JldXNhYmxlbWF6ZS8uL3RzL2NvbnN0cy9wb3NzaWJsZUdvYWxzLmNvbnN0LnRzIiwid2VicGFjazovL3JldXNhYmxlbWF6ZS8uL3RzL2NvbnN0cy9jb25jZXB0cy5jb25zdC50cyIsIndlYnBhY2s6Ly9yZXVzYWJsZW1hemUvLi90cy9jbGFzc2VzL2NvbmNlcHRzLmNsYXNzLnRzIiwid2VicGFjazovL3JldXNhYmxlbWF6ZS8uL3RzL2NsYXNzZXMvaW5pdC5jbGFzcy50cyIsIndlYnBhY2s6Ly9yZXVzYWJsZW1hemUvLi90cy9jbGFzc2VzL3Bhd24uY2xhc3MudHMiLCJ3ZWJwYWNrOi8vcmV1c2FibGVtYXplLy4vdHMvY29uc3RzL2xpbmVOYW1lcy5jb25zdC50cyIsIndlYnBhY2s6Ly9yZXVzYWJsZW1hemUvLi90cy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBodG1sSGFuZGxlciB9IGZyb20gXCIuL2h0bWxEb2NIYW5kbGVyLmNsYXNzXCI7XHJcbmltcG9ydCB7IG16UGF3biB9IGZyb20gXCIuL3Bhd24uY2xhc3NcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1le1xyXG4gICAgcHVibGljIHBvaW50czpudW1iZXJcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwb2ludHM6bnVtYmVyKXtcclxuICAgICAgICB0aGlzLnBvaW50cz1wb2ludHM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdhaW5Qb2ludCgpe1xyXG4gICAgICAgIHRoaXMucG9pbnRzKytcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgd2luR2FtZShoYW5kbGVyOmh0bWxIYW5kbGVyLHBhd246bXpQYXduKXtcclxuICAgICAgICBoYW5kbGVyLmludGVydmFsLnBhdXNlKCk7XHJcbiAgICAgICAgcGF3bi5jYW5Nb3ZlPWZhbHNlO1xyXG4gICAgICAgIGhhbmRsZXIuZGlzcGxheVdpbih0aGlzLnBvaW50cyk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBjb25jZXB0IH0gZnJvbSBcIi4uL2NvbnN0cy9jb25jZXB0cy5jb25zdFwiO1xyXG5pbXBvcnQgeyBHb2FsIH0gZnJvbSBcIi4uL2NvbnN0cy9wb3NzaWJsZUdvYWxzLmNvbnN0XCI7XHJcbmltcG9ydCB7IEJvYXJkIH0gZnJvbSBcIi4vQm9hcmQuY2xhc3NcIjtcclxuaW1wb3J0IHsgVGlsZSB9IGZyb20gXCIuL1RpbGUuY2xhc3NcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBodG1sSGFuZGxlciB7XHJcbiAgICBwdWJsaWMgaW50ZXJ2YWw7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgO1xyXG4gICAgICAgIHRoaXMuaW50ZXJ2YWwgPSB0aGlzLnN0YXJ0VGltZXIoMCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZUhUTUxCb2FyZChib2FyZDogQm9hcmQpIHtcclxuICAgICAgICBsZXQgZGl2Qm9hcmQ6IEVsZW1lbnQgfCBudWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNib2FyZFwiKTtcclxuICAgICAgICBsZXQgaW5uZXJIVE1MOiBzdHJpbmcgPSBgPGRpdiBjbGFzcz1cImdyaWQtY29udGFpbmVyXCI+YFxyXG4gICAgICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IDk7IHJvdysrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IDk7IGNvbCsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGlsZW4gPSAoY29sIC0gMSkgKyAoKHJvdyAtIDEpICogNyk7XHJcbiAgICAgICAgICAgICAgICBpZiAocm93ID09IDAgfHwgY29sID09IDAgfHwgcm93ID09IDggfHwgY29sID09IDgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aWxlbiA9IC0xO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRpbGVuICE9IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5uZXJIVE1MICs9IGA8ZGl2IGNsYXNzPVwidGlsZS1ncmlkIHRpbGVyb3dgICsgcm93ICsgYCB0aWxlY29sYCArIGNvbCArIGAgdGlsZWAgKyB0aWxlbiArIGAgc2hhZG93LXNtIHJvdW5kZWRcIj5gXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgY3JvdyA9IDA7IGNyb3cgPCAzOyBjcm93KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgY2NvbCA9IDA7IGNjb2wgPCAzOyBjY29sKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBncmlkbiA9IGNjb2wgKyAoY3JvdyAqIDMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvdyA9PSAwIHx8IGNvbCA9PSAwIHx8IHJvdyA9PSA4IHx8IGNvbCA9PSA4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZG4gPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVySFRNTCArPSBgPGRpdiBjbGFzcz1cImdyaWQtaXRlbSBncm93YCArICgocm93IC0gMSkgKiAzICsgY3JvdykgKyBgIGdjb2xgICsgKChjb2wgLSAxKSAqIDMgKyBjY29sKSArIGAgdGlsZWAgKyB0aWxlbiArIGAgY2VsbGAgKyBncmlkbiArIGBcIj48c3Bhbj48L3NwYW4+PC9kaXY+YFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlubmVySFRNTCArPSBcIjwvZGl2PlwiXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlubmVySFRNTCArPSBgPGRpdiBjbGFzcz1cIm91dFRpbGUgdGlsZXJvd2AgKyByb3cgKyBgIHJvdW5kZWQgdGlsZWNvbGAgKyBjb2w7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChyb3cgPT0gMCAmJiAoY29sID09IDIgfHwgY29sID09IDQgfHwgY29sID09IDYpKSB8fCAocm93ID09IDggJiYgKGNvbCA9PSAyIHx8IGNvbCA9PSA0IHx8IGNvbCA9PSA2KSkgfHwgKGNvbCA9PSAwICYmIChyb3cgPT0gMiB8fCByb3cgPT0gNCB8fCByb3cgPT0gNikpIHx8IChjb2wgPT0gOCAmJiAocm93ID09IDIgfHwgcm93ID09IDQgfHwgcm93ID09IDYpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbm5lckhUTUwgKz0gYCBwdXNoLXRpbGVzXCI+PHNwYW4gY2xhc3M9XCJidG4gYnRuLWxpZ2h0IHNoYWRvdy1zbVwiPjwvc3Bhbj48L2Rpdj5gXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGdjb2wgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZ3JvdyA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyb3cgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2NvbCA9ICgzICogY29sIC0gMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm93ID0gKC0xKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyb3cgPT0gOCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2NvbCA9ICgzICogY29sIC0gMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm93ID0gKDIxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb2wgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2NvbCA9ICgtMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm93ID0gKDMgKiByb3cgLSAyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb2wgPT0gOCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2NvbCA9ICgyMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm93ID0gKDMgKiByb3cgLSAyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJIVE1MICs9IGAgZ3Jvd2AgKyBncm93ICsgYCBnY29sYCArIGdjb2wgKyBgXCI+PHNwYW4+PC9zcGFuPjwvZGl2PmBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlubmVySFRNTCArPSBcIjwvZGl2PlwiXHJcbiAgICAgICAgZGl2Qm9hcmQuaW5uZXJIVE1MID0gaW5uZXJIVE1MXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBsYWNlVGlsZXMoYm9hcmQ6IEJvYXJkKSB7XHJcbiAgICAgICAgYm9hcmQuYm9hcmRSb3dzLmZvckVhY2goKHJvdywgcmkpID0+IHtcclxuICAgICAgICAgICAgcm93LnRpbGVzLmZvckVhY2goKHRpbGUsIHRpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aWxlLmNlbGxzLmZvckVhY2goKGNlbGwsIGNpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNlbGwuaXNXYWxrYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRpbGVcIiArICh0aSArICg3ICogcmkpKSArIFwiLmNlbGxcIiArIGNpKS5jbGFzc0xpc3QuYWRkKFwid2Fsa2FibGVcIilcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNlbGwuaGFzQ29uY2VwdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2VsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGlsZVwiICsgKHRpICsgKDcgKiByaSkpICsgXCIuY2VsbFwiICsgY2kpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoXCJoYXNDb25jZXB0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBsYWNlUGF3bihjb29yZHM6IG51bWJlcltdKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ncm93XCIgKyBjb29yZHNbMF0gKyBcIi5nY29sXCIgKyBjb29yZHNbMV0pLmNsYXNzTGlzdC5hZGQoXCJvY2N1cGllZFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlbW92ZVBhd24oY29vcmRzOiBudW1iZXJbXSkge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ3Jvd1wiICsgY29vcmRzWzBdICsgXCIuZ2NvbFwiICsgY29vcmRzWzFdKS5jbGFzc0xpc3QucmVtb3ZlKFwib2NjdXBpZWRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldERpdkNsYXNzZXNCeUNvb3Jkcyh4OiBudW1iZXIsIHk6IG51bWJlcik6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ3Jvd1wiICsgeCArIFwiLmdjb2xcIiArIHkpLmNsYXNzTGlzdC52YWx1ZS5zcGxpdCgnICcpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0UGFyZW50Q2VsbERpdih4OiBudW1iZXIsIHk6IG51bWJlcik6IEhUTUxFbGVtZW50IHtcclxuICAgICAgICByZXR1cm4gKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ3Jvd1wiICsgeCArIFwiLmdjb2xcIiArIHkpLnBhcmVudEVsZW1lbnQpXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNoYW5nZVRpbGVPY2N1cGllZChvbGRUaWxlbjogSFRNTEVsZW1lbnQsIG5ld1RpbGVuOiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIG9sZFRpbGVuLmNsYXNzTGlzdC5yZW1vdmUoXCJ0aWxlLW9jY3VwaWVkXCIpO1xyXG4gICAgICAgIG5ld1RpbGVuLmNsYXNzTGlzdC5hZGQoXCJ0aWxlLW9jY3VwaWVkXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwbGFjZUV4dHJhVGlsZSh0aWxlOiBUaWxlKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IGRpdkV4dHJhVGlsZTogRWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2V4dHJhVGlsZVwiKTtcclxuICAgICAgICBsZXQgaW5uZXJIVE1MOiBzdHJpbmcgPSBgPGRpdiBjbGFzcz1cInRpbGUtZ3JpZCBleHRyYS10aWxlIHNoYWRvdy1zbSByb3VuZGVkXCI+YFxyXG4gICAgICAgIGZvciAobGV0IGNyb3cgPSAwOyBjcm93IDwgMzsgY3JvdysrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGNjb2wgPSAwOyBjY29sIDwgMzsgY2NvbCsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZG4gPSBjY29sICsgKGNyb3cgKiAzKTtcclxuICAgICAgICAgICAgICAgIGlubmVySFRNTCArPSBgPGRpdiBjbGFzcz1cImdyaWQtaXRlbSBleHRyYS10aWxlIGNlbGxgICsgZ3JpZG4gKyBgXCI+PHNwYW4+PC9zcGFuPjwvZGl2PmBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpbm5lckhUTUwgKz0gXCI8L2Rpdj5cIlxyXG4gICAgICAgIGRpdkV4dHJhVGlsZS5pbm5lckhUTUwgPSBpbm5lckhUTUw7XHJcbiAgICAgICAgdGlsZS5jZWxscy5mb3JFYWNoKChjZWxsLCBjaSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY2VsbC5pc1dhbGthYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmV4dHJhLXRpbGUuY2VsbFwiICsgY2kpLmNsYXNzTGlzdC5hZGQoXCJ3YWxrYWJsZVwiKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbGluZUNvbnRhaW5zUGF3bihsaW5lOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgcmVzcG9uc2U6IGJvb2xlYW4gPSBmYWxzZVxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuXCIgKyBsaW5lKS5mb3JFYWNoKHRpbGVEaXYgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGlsZURpdi5jbGFzc0xpc3QuY29udGFpbnMoXCJ0aWxlLW9jY3VwaWVkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiByZXNwb25zZVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWZyZXNoTGluZShsaW5lOiBzdHJpbmcsIHRpbGVuOiBudW1iZXIsIGJvYXJkOiBCb2FyZCkge1xyXG4gICAgICAgIGxldCBwdXNoVHJhY2s6YW55PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHVzaHRpbGVzLXRyYWNrXCIpO1xyXG4gICAgICAgIHB1c2hUcmFjay5wYXVzZSgpO1xyXG4gICAgICAgIHB1c2hUcmFjay5jdXJyZW50VGltZT0wO1xyXG4gICAgICAgIHB1c2hUcmFjay5wbGF5KCk7XHJcbiAgICAgICAgaWYgKGxpbmUuaW5jbHVkZXMoXCJjb2xcIikpIHtcclxuICAgICAgICAgICAgYm9hcmQuYm9hcmRSb3dzLmZvckVhY2goKGJvYXJkUm93LCBicmkpID0+IHtcclxuICAgICAgICAgICAgICAgIGJvYXJkUm93LnRpbGVzW3RpbGVuXS5jZWxscy5mb3JFYWNoKChjZWxsLCBjaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGlsZVwiICsgKHRpbGVuICsgKDcgKiBicmkpKSArIFwiLmNlbGxcIiArIGNpKS5jbGFzc0xpc3QucmVtb3ZlKFwid2Fsa2FibGVcIilcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2VsbC5pc1dhbGthYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGlsZVwiICsgKHRpbGVuICsgKDcgKiBicmkpKSArIFwiLmNlbGxcIiArIGNpKS5jbGFzc0xpc3QuYWRkKFwid2Fsa2FibGVcIilcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGJvYXJkLmJvYXJkUm93c1t0aWxlbl0udGlsZXMuZm9yRWFjaCgodGlsZSwgdGkpID0+IHtcclxuICAgICAgICAgICAgICAgIHRpbGUuY2VsbHMuZm9yRWFjaCgoY2VsbCwgY2kpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRpbGVcIiArICh0aSArICg3ICogdGlsZW4pKSArIFwiLmNlbGxcIiArIGNpKS5jbGFzc0xpc3QucmVtb3ZlKFwid2Fsa2FibGVcIilcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2VsbC5pc1dhbGthYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGlsZVwiICsgKHRpICsgKDcgKiB0aWxlbikpICsgXCIuY2VsbFwiICsgY2kpLmNsYXNzTGlzdC5hZGQoXCJ3YWxrYWJsZVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwbGFjZUdvYWwoZ29hbDogR29hbCkge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuXCIgKyBnb2FsLmNvbCArIFwiLlwiICsgZ29hbC5yb3cgKyBcIi5vdXRUaWxlXCIpLmNsYXNzTGlzdC5hZGQoXCJnb2FsXCIpO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuXCIgKyBnb2FsLnRpbGUgKyBcIi5cIiArIGdvYWwuY2VsbCArIFwiLmdyaWQtaXRlbVwiKS5jbGFzc0xpc3QuYWRkKFwid2Fsa2FibGVcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFBvaW50cyhwb2ludHM6IG51bWJlcikge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9pbnQtdHJhY2tlclwiKS5pbm5lckhUTUwgPSBcIjxzdHJvbmc+VHJlZXM6PC9zdHJvbmc+IFwiICsgcG9pbnRzO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhcnRUaW1lcihzZWNvbmRzKSB7XHJcbiAgICAgICAgdmFyIHN0YXJ0VGltZSwgdGltZXIsIG9iaiwgbXMgPSBzZWNvbmRzICogMTAwMFxyXG4gICAgICAgIG9iaiA9IHt9O1xyXG4gICAgICAgIG9iai5yZXN1bWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICB0aW1lciA9IHNldEludGVydmFsKG9iai5zdGVwLCAyNTApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgb2JqLnBhdXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBtcyA9IG9iai5zdGVwKCk7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgb2JqLnN0ZXAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBub3cgPSBNYXRoLm1heCgwLCBtcyArIChuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHN0YXJ0VGltZSkpLFxyXG4gICAgICAgICAgICAgICAgbSA9IE1hdGguZmxvb3Iobm93IC8gNjAwMDApLCBzID0gTWF0aC5mbG9vcihub3cgLyAxMDAwKSAlIDYwO1xyXG4gICAgICAgICAgICBsZXQgczIgPSAocyA8IDEwID8gXCIwXCIgOiBcIlwiKSArIHM7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGltZS10cmFja2VyXCIpLmlubmVySFRNTCA9IFwiPHN0cm9uZz5UaW1lOjwvc3Ryb25nPiBcIiArIG0gKyBcIjpcIiArIHMyO1xyXG4gICAgICAgICAgICBpZiAobm93ID09IDApIHtcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpO1xyXG4gICAgICAgICAgICAgICAgb2JqLnJlc3VtZSA9IGZ1bmN0aW9uICgpIHsgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbm93O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgb2JqLnJlc3VtZSgpO1xyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGV4cGxvcmVDb25jZXB0KHg6IG51bWJlciwgeTogbnVtYmVyLCBjb25jZXB0OiBjb25jZXB0KSB7XHJcbiAgICAgICAgbGV0IHJld2FyZFRyYWNrOmFueT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJld2FyZFwiKTtcclxuICAgICAgICByZXdhcmRUcmFjay5wYXVzZSgpO1xyXG4gICAgICAgIHJld2FyZFRyYWNrLmN1cnJlbnRUaW1lPTA7XHJcbiAgICAgICAgcmV3YXJkVHJhY2sucGxheSgpO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ3Jvd1wiICsgeCArIFwiLmdjb2xcIiArIHkpLmNsYXNzTGlzdC5yZW1vdmUoXCJoYXNDb25jZXB0XCIpO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ3Jvd1wiICsgeCArIFwiLmdjb2xcIiArIHkpLmNsYXNzTGlzdC5hZGQoXCJjb25jZXB0RXhwbG9yZWRcIik7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5Q29uY2VwdChjb25jZXB0KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc3BsYXlXaW4ocG9pbnRzOiBudW1iZXIpIHtcclxuICAgICAgICBsZXQgbWFpblRyYWNrOmFueT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW4tdHJhY2tcIik7XHJcbiAgICAgICAgbWFpblRyYWNrLnBhdXNlKCk7XHJcbiAgICAgICAgbWFpblRyYWNrLmN1cnJlbnRUaW1lPTA7XHJcbiAgICAgICAgbGV0IHdpblRyYWNrOmFueT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndpbi10cmFja1wiKTtcclxuICAgICAgICB3aW5UcmFjay5wYXVzZSgpO1xyXG4gICAgICAgIHdpblRyYWNrLmN1cnJlbnRUaW1lPTA7XHJcbiAgICAgICAgd2luVHJhY2sucGxheSgpO1xyXG4gICAgICAgIGlmIChwb2ludHMgPCAxMikge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3dpbi1tb2RhbC1tZXNzYWdlXCIpLmlubmVySFRNTCA9IFwiWW91IGhhdmUgd29uIHRoZSBnYW1lISBXZWxsIGRvbmUhIENhbiB5b3UgcGxhbnQgbW9yZSB0cmVlcyBiZWZvcmUgbGVhdmluZyB0aGUgbWF6ZSB0aGUgbmV4dCB0aW1lIHlvdSBwbGF5P1wiXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IHRpbWU9IHRoaXMuaW50ZXJ2YWwuc3RlcCgpXHJcbiAgICAgICAgICAgIGxldCBtaW5zID0gKE1hdGguZmxvb3IoKHRpbWUgLyAxMDAwKSAvIDYwKSk7XHJcbiAgICAgICAgICAgIGxldCBzZWNzID0gTWF0aC5mbG9vcih0aW1lLyAxMDAwKSAtIG1pbnMgKiA2MDtcclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN3aW4tbW9kYWwtbWVzc2FnZVwiKS5pbm5lckhUTUwgPSBcIllvdSBoYXZlIHdvbiB0aGUgZ2FtZSBhbmQgcGxhbnRlZCBhbGwgdGhlIHRyZWVzIGluIFwiICsgbWlucyArIFwibSBhbmQgXCIgKyBzZWNzICsgXCJzISBDYW4geW91IGltcHJvdmUgeW91ciB0aW1lP1wiXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZGlzcGxheU1vZGFsKFwid2luLW1vZGFsXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3ZlUGF3bihwcmV2aW91c1BvcywgbmV3UG9zKSB7XHJcbiAgICAgICAgbGV0IG1vdmVUcmFjazphbnk9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb3ZlXCIpO1xyXG4gICAgICAgIG1vdmVUcmFjay5wYXVzZSgpO1xyXG4gICAgICAgIG1vdmVUcmFjay5jdXJyZW50VGltZT0wO1xyXG4gICAgICAgIG1vdmVUcmFjay5wbGF5KCk7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVQYXduKHByZXZpb3VzUG9zKTtcclxuICAgICAgICB0aGlzLnBsYWNlUGF3bihuZXdQb3MpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZGlzcGxheUNvbmNlcHQoY29uY2VwdDogY29uY2VwdCkge1xyXG4gICAgICAgIHRoaXMuaW50ZXJ2YWwucGF1c2UoKTtcclxuICAgICAgICBpZiAoY29uY2VwdCkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbmNlcHQtbW9kYWwtdGl0bGVcIikuaW5uZXJIVE1MID0gY29uY2VwdC5jb25jZXB0O1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbmNlcHQtbW9kYWwtbWVzc2FnZVwiKS5pbm5lckhUTUwgPSBjb25jZXB0LmRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbmNlcHQtbW9kYWwtZ2FtZWNhc2VcIikuaW5uZXJIVE1MID0gY29uY2VwdC5nYW1lQ2FzZTtcclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjb25jZXB0LW1vZGFsLWltYWdlXCIpLmlubmVySFRNTD1jb25jZXB0LmltYWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmRpc3BsYXlNb2RhbChcImNvbmNlcHQtbW9kYWxcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsb3NlRGlhbG9nKG1vZGFsSWQ6IHN0cmluZykge1xyXG4gICAgICAgIGxldCBjbG9zZVRyYWNrOmFueT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNsb3NlLXRyYWNrXCIpO1xyXG4gICAgICAgIGNsb3NlVHJhY2sucGF1c2UoKTtcclxuICAgICAgICBjbG9zZVRyYWNrLmN1cnJlbnRUaW1lPTA7XHJcbiAgICAgICAgY2xvc2VUcmFjay5wbGF5KCk7XHJcbiAgICAgICAgbGV0IG1vZGFsOiBhbnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKChcIiNcIiArIG1vZGFsSWQpKTtcclxuICAgICAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiKTtcclxuICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcblxyXG4gICAgLypwdWJsaWMgc2hvd0NyZWRpdHMoKSB7XHJcbiAgICAgICAgbGV0IGNyZWRpdHNNb2RhbDogYW55ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjcmVkaXRzLW1vZGFsXCIpO1xyXG4gICAgICAgIGNyZWRpdHNNb2RhbC5jbGFzc0xpc3QuYWRkKFwic2hvd1wiKTtcclxuICAgICAgICBjcmVkaXRzTW9kYWwuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2hvd1R1dG9yaWFsKCl7XHJcbiAgICAgICAgbGV0IHR1dG9yaWFsTW9kYWw6IGFueSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdHV0b3JpYWwtbW9kYWxcIik7XHJcbiAgICAgICAgdHV0b3JpYWxNb2RhbC5jbGFzc0xpc3QuYWRkKFwic2hvd1wiKTtcclxuICAgICAgICB0dXRvcmlhbE1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNob3dQdXNoVGlsZXMoKXtcclxuICAgICAgICBsZXQgcHVzaFRpbGVzTW9kYWw6IGFueSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHVzaC10aWxlcy1tb2RhbFwiKTtcclxuICAgICAgICBwdXNoVGlsZXNNb2RhbC5jbGFzc0xpc3QuYWRkKFwic2hvd1wiKTtcclxuICAgICAgICBwdXNoVGlsZXNNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaG93V2VsY29tZSgpe1xyXG4gICAgICAgIGxldCBtb2RhbDogYW55ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN3ZWxjb21lLW1vZGFsXCIpO1xyXG4gICAgICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpO1xyXG4gICAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICB9Ki9cclxuXHJcbiAgICBwdWJsaWMgcm90YXRlU291bmQoKXtcclxuICAgICAgICBsZXQgcm90YXRlVHJhY2s6YW55PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm90YXRlLXRyYWNrXCIpO1xyXG4gICAgICAgIHJvdGF0ZVRyYWNrLnBhdXNlKCk7XHJcbiAgICAgICAgcm90YXRlVHJhY2suY3VycmVudFRpbWU9MDtcclxuICAgICAgICByb3RhdGVUcmFjay5wbGF5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLypwdWJsaWMgc2hvd0F2YXRhcnMoKXtcclxuICAgICAgICBsZXQgYXZhdGFyc01vZGFsOmFueT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci1tb2RhbFwiKTtcclxuICAgICAgICBhdmF0YXJzTW9kYWwuY2xhc3NMaXN0LmFkZChcInNob3dcIik7XHJcbiAgICAgICAgYXZhdGFyc01vZGFsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICB9Ki9cclxuXHJcbiAgICBwdWJsaWMgZGlzcGxheU1vZGFsKGlkOnN0cmluZyl7XHJcbiAgICAgICAgbGV0IG1vZGFsOmFueT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI1wiK2lkKTtcclxuICAgICAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKFwic2hvd1wiKTtcclxuICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRBdmF0YXIoaWQ6c3RyaW5nKXtcclxuICAgICAgICBsZXQgcjphbnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCc6cm9vdCcpO1xyXG4gICAgICAgIHN3aXRjaCAoaWQpIHtcclxuICAgICAgICAgICAgY2FzZSBcImF2YXRhci1saW9uXCI6XHJcbiAgICAgICAgICAgICAgICByLnN0eWxlLnNldFByb3BlcnR5KCctLWF2YXRhci1wYXRoJywgJ3VybCguL3N0YXRpYy9hdmF0YXJzL2xpb24ucG5nJyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImF2YXRhci1jYXRcIjpcclxuICAgICAgICAgICAgICAgIHIuc3R5bGUuc2V0UHJvcGVydHkoJy0tYXZhdGFyLXBhdGgnLCAndXJsKC4vc3RhdGljL2F2YXRhcnMvY2F0LnBuZycpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJhdmF0YXItZG9nXCI6XHJcbiAgICAgICAgICAgICAgICByLnN0eWxlLnNldFByb3BlcnR5KCctLWF2YXRhci1wYXRoJywgJ3VybCguL3N0YXRpYy9hdmF0YXJzL2RvZy5wbmcnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYXZhdGFyLWJlYXJcIjpcclxuICAgICAgICAgICAgICAgIHIuc3R5bGUuc2V0UHJvcGVydHkoJy0tYXZhdGFyLXBhdGgnLCAndXJsKC4vc3RhdGljL2F2YXRhcnMvYmVhci5wbmcnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYXZhdGFyLWRlZXJcIjpcclxuICAgICAgICAgICAgICAgIHIuc3R5bGUuc2V0UHJvcGVydHkoJy0tYXZhdGFyLXBhdGgnLCAndXJsKC4vc3RhdGljL2F2YXRhcnMvZGVlci5wbmcnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYXZhdGFyLWNoaWNrZW5cIjpcclxuICAgICAgICAgICAgICAgIHIuc3R5bGUuc2V0UHJvcGVydHkoJy0tYXZhdGFyLXBhdGgnLCAndXJsKC4vc3RhdGljL2F2YXRhcnMvY2hpY2tlbi5wbmcnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgY2FzZSBcImF2YXRhci1naXJhZmZlXCI6XHJcbiAgICAgICAgICAgICAgICByLnN0eWxlLnNldFByb3BlcnR5KCctLWF2YXRhci1wYXRoJywgJ3VybCguL3N0YXRpYy9hdmF0YXJzL2dpcmFmZmUucG5nJyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImF2YXRhci1rb2FsYVwiOlxyXG4gICAgICAgICAgICAgICAgci5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1hdmF0YXItcGF0aCcsICd1cmwoLi9zdGF0aWMvYXZhdGFycy9rb2FsYS5wbmcnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYXZhdGFyLXBhbmRhXCI6XHJcbiAgICAgICAgICAgICAgICByLnN0eWxlLnNldFByb3BlcnR5KCctLWF2YXRhci1wYXRoJywgJ3VybCguL3N0YXRpYy9hdmF0YXJzL3BhbmRhLnBuZycpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICBjYXNlIFwiYXZhdGFyLXB1ZmZlci1maXNoXCI6XHJcbiAgICAgICAgICAgICAgICByLnN0eWxlLnNldFByb3BlcnR5KCctLWF2YXRhci1wYXRoJywgJ3VybCguL3N0YXRpYy9hdmF0YXJzL3B1ZmZlci1maXNoLnBuZycpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJhdmF0YXItcmFiYml0XCI6XHJcbiAgICAgICAgICAgICAgICByLnN0eWxlLnNldFByb3BlcnR5KCctLWF2YXRhci1wYXRoJywgJ3VybCguL3N0YXRpYy9hdmF0YXJzL3JhYmJpdC5wbmcnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYXZhdGFyLXNlYS1saW9uXCI6XHJcbiAgICAgICAgICAgICAgICByLnN0eWxlLnNldFByb3BlcnR5KCctLWF2YXRhci1wYXRoJywgJ3VybCguL3N0YXRpYy9hdmF0YXJzL3NlYS1saW9uLnBuZycpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByLnN0eWxlLnNldFByb3BlcnR5KCctLWF2YXRhci1wYXRoJywgJ3VybCguL3N0YXRpYy9wYXduLnBuZycpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgVGlsZSB9IGZyb20gXCIuL1RpbGUuY2xhc3NcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBCb2FyZFJvdyB7XHJcbiAgICBwdWJsaWMgdGlsZXM6IFRpbGVbXTtcclxuICBcclxuICAgIGNvbnN0cnVjdG9yKHRpbGVzOlRpbGVbXSkge1xyXG4gICAgICAgIHRoaXMudGlsZXM9dGlsZXM7XHJcbiAgICB9XHJcbiAgfSIsImV4cG9ydCBjbGFzcyBHcmlkQ2VsbCB7XHJcbiAgICBwdWJsaWMgaXNXYWxrYWJsZTogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBoYXNDb25jZXB0OiBib29sZWFuO1xyXG4gICAgcHVibGljIGNvbmNlcHRFeHBsb3JlZDogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBjb25jZXB0Pzogc3RyaW5nO1xyXG4gICAgcHVibGljIGNvbmNlcHREZXM/OiBzdHJpbmc7XHJcbiAgXHJcbiAgICBjb25zdHJ1Y3RvciggaXNXYWxrYWJsZTpib29sZWFuLCBoYXNDb25jZXB0OmJvb2xlYW4sIGNvbmNlcHQ6c3RyaW5nPScnLGNvbmNlcHREZXM6c3RyaW5nPScnLGNvbmNlcHRFeHBsb3JlZDpib29sZWFuPWZhbHNlICkge1xyXG4gICAgICAgIHRoaXMuaXNXYWxrYWJsZT1pc1dhbGthYmxlO1xyXG4gICAgICAgIHRoaXMuaGFzQ29uY2VwdD1oYXNDb25jZXB0O1xyXG4gICAgICAgIHRoaXMuY29uY2VwdD1jb25jZXB0O1xyXG4gICAgICAgIHRoaXMuY29uY2VwdERlcz1jb25jZXB0RGVzO1xyXG4gICAgICAgIHRoaXMuY29uY2VwdEV4cGxvcmVkPWNvbmNlcHRFeHBsb3JlZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZXhwbG9yZUNvbmNlcHQoKTogbnVtYmVye1xyXG4gICAgICAgIHJldHVybiAxO1xyXG4gICAgfVxyXG4gIH0iLCJpbXBvcnQgeyBHcmlkQ2VsbCB9IGZyb20gXCIuL0dyaWRDZWxsLmNsYXNzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVGlsZSB7XHJcbiAgICBwdWJsaWMgY2VsbHM6IEdyaWRDZWxsW107XHJcbiAgXHJcbiAgICBjb25zdHJ1Y3RvciggY2VsbHM6R3JpZENlbGxbXSl7XHJcbiAgICAgICAgdGhpcy5jZWxscz1jZWxscztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcm90YXRlKGRpcmVjdGlvbjpzdHJpbmcsdGltZXM6bnVtYmVyKTpudW1iZXJ7XHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRpbWVzOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdyJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNlbGxzPVt0aGlzLmNlbGxzWzZdLHRoaXMuY2VsbHNbM10sdGhpcy5jZWxsc1swXSx0aGlzLmNlbGxzWzddLHRoaXMuY2VsbHNbNF0sdGhpcy5jZWxsc1sxXSx0aGlzLmNlbGxzWzhdLHRoaXMuY2VsbHNbNV0sdGhpcy5jZWxsc1syXV1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2wnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2VsbHM9W3RoaXMuY2VsbHNbMl0sdGhpcy5jZWxsc1s1XSx0aGlzLmNlbGxzWzhdLHRoaXMuY2VsbHNbMV0sdGhpcy5jZWxsc1s0XSx0aGlzLmNlbGxzWzddLHRoaXMuY2VsbHNbMF0sdGhpcy5jZWxsc1szXSx0aGlzLmNlbGxzWzZdXVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiAxXHJcbiAgICB9XHJcbiAgfSIsImltcG9ydCB7IEJvYXJkUm93IH0gZnJvbSBcIi4vQm9hcmRSb3cuY2xhc3NcIlxyXG5pbXBvcnQgeyBHcmlkQ2VsbCB9IGZyb20gXCIuL0dyaWRDZWxsLmNsYXNzXCI7XHJcbmltcG9ydCB7IFRpbGUgfSBmcm9tIFwiLi9UaWxlLmNsYXNzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQm9hcmQge1xyXG4gICAgcHVibGljIGJvYXJkUm93czogQm9hcmRSb3dbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihib2FyZFJvd3M6IEJvYXJkUm93W10pIHtcclxuICAgICAgICB0aGlzLmJvYXJkUm93cyA9IGJvYXJkUm93cztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHVzaExpbmUodmVydGljYWxpdHk6IHN0cmluZywgZGlyZWN0aW9uOiBzdHJpbmcsIG51bWJlcjogbnVtYmVyLCBleHRyYVRpbGU6IFRpbGUsIGJvYXJkOiBCb2FyZCk6IFtCb2FyZCwgVGlsZV0ge1xyXG4gICAgICAgIGxldCBuZXdCb2FyZCA9IHRoaXMuY2xvbmVCb2FyZChib2FyZCk7XHJcbiAgICAgICAgbGV0IG5ld0V4dHJhVGlsZTogVGlsZVxyXG4gICAgICAgIHN3aXRjaCAodmVydGljYWxpdHkpIHtcclxuICAgICAgICAgICAgY2FzZSBcInZcIjpcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImRcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Qm9hcmQuYm9hcmRSb3dzWzBdLnRpbGVzW251bWJlcl0gPSBleHRyYVRpbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvYXJkLmJvYXJkUm93cy5mb3JFYWNoKChib2FyZFJvdywgYnJpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnJpIDwgKGJvYXJkLmJvYXJkUm93cy5sZW5ndGggLSAxKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0JvYXJkLmJvYXJkUm93c1ticmkgKyAxXS50aWxlc1tudW1iZXJdID0gYm9hcmRSb3cudGlsZXNbbnVtYmVyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RXh0cmFUaWxlID0gbmV3IFRpbGUoYm9hcmRSb3cudGlsZXNbbnVtYmVyXS5jZWxscyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdCb2FyZC5ib2FyZFJvd3NbNl0udGlsZXNbbnVtYmVyXSA9IGV4dHJhVGlsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9hcmQuYm9hcmRSb3dzLmZvckVhY2goKGJvYXJkUm93LCBicmkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChicmkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Qm9hcmQuYm9hcmRSb3dzW2JyaSAtIDFdLnRpbGVzW251bWJlcl0gPSBib2FyZFJvdy50aWxlc1tudW1iZXJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdFeHRyYVRpbGUgPSBuZXcgVGlsZShib2FyZFJvdy50aWxlc1tudW1iZXJdLmNlbGxzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiaFwiOlxyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiclwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdCb2FyZC5ib2FyZFJvd3NbbnVtYmVyXS50aWxlc1swXSA9IGV4dHJhVGlsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9hcmQuYm9hcmRSb3dzW251bWJlcl0udGlsZXMuZm9yRWFjaCgodGlsZSx0aSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGkgPCAoYm9hcmQuYm9hcmRSb3dzW251bWJlcl0udGlsZXMubGVuZ3RoLTEpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdCb2FyZC5ib2FyZFJvd3NbbnVtYmVyXS50aWxlc1t0aSsxXT10aWxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdFeHRyYVRpbGU9bmV3IFRpbGUgKHRpbGUuY2VsbHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImxcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Qm9hcmQuYm9hcmRSb3dzW251bWJlcl0udGlsZXNbNl0gPSBleHRyYVRpbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvYXJkLmJvYXJkUm93c1tudW1iZXJdLnRpbGVzLmZvckVhY2goKHRpbGUsdGkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRpID4gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Qm9hcmQuYm9hcmRSb3dzW251bWJlcl0udGlsZXNbdGktMV09dGlsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RXh0cmFUaWxlPW5ldyBUaWxlICh0aWxlLmNlbGxzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtuZXdCb2FyZCwgbmV3RXh0cmFUaWxlXTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgY2xvbmVCb2FyZChib2FyZDogQm9hcmQpOiBCb2FyZCB7XHJcbiAgICAgICAgbGV0IG5ld0JvYXJkUm93czogQm9hcmRSb3dbXSA9IFtdXHJcbiAgICAgICAgYm9hcmQuYm9hcmRSb3dzLmZvckVhY2goKGJvYXJkcm93KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBuZXdUaWxlczogVGlsZVtdID0gW11cclxuICAgICAgICAgICAgYm9hcmRyb3cudGlsZXMuZm9yRWFjaCgodGlsZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IG5ld0NlbGxzOiBHcmlkQ2VsbFtdID0gW11cclxuICAgICAgICAgICAgICAgIHRpbGUuY2VsbHMuZm9yRWFjaCgoY2VsbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdDZWxsOiBHcmlkQ2VsbCA9IG5ldyBHcmlkQ2VsbChjZWxsLmlzV2Fsa2FibGUsIGNlbGwuaGFzQ29uY2VwdCwgY2VsbC5jb25jZXB0LCBjZWxsLmNvbmNlcHREZXMsIGNlbGwuY29uY2VwdEV4cGxvcmVkKVxyXG4gICAgICAgICAgICAgICAgICAgIG5ld0NlbGxzLnB1c2gobmV3Q2VsbCk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgbGV0IG5ld1RpbGU6IFRpbGUgPSBuZXcgVGlsZShuZXdDZWxscyk7XHJcbiAgICAgICAgICAgICAgICBuZXdUaWxlcy5wdXNoKG5ld1RpbGUpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBsZXQgbmV3Qm9hcmRSb3c6IEJvYXJkUm93ID0gbmV3IEJvYXJkUm93KG5ld1RpbGVzKTtcclxuICAgICAgICAgICAgbmV3Qm9hcmRSb3dzLnB1c2gobmV3Qm9hcmRSb3cpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgbGV0IG5ld0JvYXJkOiBCb2FyZCA9IG5ldyBCb2FyZChuZXdCb2FyZFJvd3MpO1xyXG4gICAgICAgIHJldHVybiBuZXdCb2FyZDtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEdyaWRDZWxsIH0gZnJvbSBcIi4uL2NsYXNzZXMvR3JpZENlbGwuY2xhc3NcIlxyXG5pbXBvcnQgeyBUaWxlIH0gZnJvbSBcIi4uL2NsYXNzZXMvVGlsZS5jbGFzc1wiXHJcblxyXG5leHBvcnQgY29uc3QgZml4ZWRUaWxlczpUaWxlW109Wy8vMCwgdG9wIGxlZnQgY29ybmVyXHJcbiAgICBuZXcgVGlsZShbXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbChmYWxzZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwodHJ1ZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKHRydWUsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbChmYWxzZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKHRydWUsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbChmYWxzZSxmYWxzZSlcclxuICAgIF0pLC8vMVxyXG4gICAgbmV3IFRpbGUoW1xyXG4gICAgICAgIG5ldyBHcmlkQ2VsbChmYWxzZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbCh0cnVlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwodHJ1ZSx0cnVlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwodHJ1ZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwodHJ1ZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKVxyXG4gICAgXSksLy8yXHJcbiAgICBuZXcgVGlsZShbXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbChmYWxzZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKHRydWUsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbCh0cnVlLHRydWUpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbCh0cnVlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbCh0cnVlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpXHJcbiAgICBdKSwvLzMsIHRvcCByaWdodCBjb3JuZXJcclxuICAgIG5ldyBUaWxlKFtcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbChmYWxzZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwodHJ1ZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKHRydWUsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbChmYWxzZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwodHJ1ZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKVxyXG4gICAgXSksLy80LCBzdGFydFxyXG4gICAgbmV3IFRpbGUoW1xyXG4gICAgICAgIG5ldyBHcmlkQ2VsbChmYWxzZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKHRydWUsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbChmYWxzZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwodHJ1ZSx0cnVlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwodHJ1ZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwodHJ1ZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKVxyXG4gICAgXSksLy81XHJcbiAgICBuZXcgVGlsZShbXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwodHJ1ZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbCh0cnVlLHRydWUpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbCh0cnVlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbCh0cnVlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpXHJcbiAgICBdKSwvLzZcclxuICAgIG5ldyBUaWxlKFtcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbChmYWxzZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwodHJ1ZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKHRydWUsdHJ1ZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKHRydWUsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbChmYWxzZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKHRydWUsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbChmYWxzZSxmYWxzZSlcclxuICAgIF0pLC8vNywgZW5kXHJcbiAgICBuZXcgVGlsZShbXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwodHJ1ZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwodHJ1ZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKHRydWUsdHJ1ZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbCh0cnVlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpXHJcbiAgICBdKSwvLzgsIHN0YXJ0XHJcbiAgICBuZXcgVGlsZShbXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwodHJ1ZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbCh0cnVlLHRydWUpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbCh0cnVlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbCh0cnVlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpXHJcbiAgICBdKSwvLzlcclxuICAgIG5ldyBUaWxlKFtcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbCh0cnVlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbCh0cnVlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwodHJ1ZSx0cnVlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwodHJ1ZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbChmYWxzZSxmYWxzZSlcclxuICAgIF0pLC8vMTBcclxuICAgIG5ldyBUaWxlKFtcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbCh0cnVlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbCh0cnVlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwodHJ1ZSx0cnVlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbChmYWxzZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKHRydWUsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbChmYWxzZSxmYWxzZSlcclxuICAgIF0pLC8vMTEsIGVuZFxyXG4gICAgbmV3IFRpbGUoW1xyXG4gICAgICAgIG5ldyBHcmlkQ2VsbChmYWxzZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKHRydWUsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbChmYWxzZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKHRydWUsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbCh0cnVlLHRydWUpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbChmYWxzZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwodHJ1ZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKVxyXG4gICAgXSksLy8xMiwgYm90dG9tIGxlZnQgY29ybmVyXHJcbiAgICBuZXcgVGlsZShbXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwodHJ1ZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbCh0cnVlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwodHJ1ZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbChmYWxzZSxmYWxzZSlcclxuICAgIF0pLC8vMTNcclxuICAgIG5ldyBUaWxlKFtcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbCh0cnVlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbCh0cnVlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwodHJ1ZSx0cnVlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwodHJ1ZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbChmYWxzZSxmYWxzZSlcclxuICAgIF0pLC8vMTRcclxuICAgIG5ldyBUaWxlKFtcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbCh0cnVlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbCh0cnVlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwodHJ1ZSx0cnVlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwodHJ1ZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbChmYWxzZSxmYWxzZSlcclxuICAgIF0pLC8vMTUsIGJvdHRvbSByaWdodCBjb3JuZXJcclxuICAgIG5ldyBUaWxlKFtcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbCh0cnVlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbCh0cnVlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwodHJ1ZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKSxcclxuICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsZmFsc2UpLFxyXG4gICAgICAgIG5ldyBHcmlkQ2VsbChmYWxzZSxmYWxzZSksXHJcbiAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLGZhbHNlKVxyXG4gICAgXSlcclxuXTsiLCJleHBvcnQgaW50ZXJmYWNlIEdvYWx7XHJcbiAgICByb3c6c3RyaW5nLFxyXG4gICAgY29sOnN0cmluZyxcclxuICAgIHRpbGU6c3RyaW5nLFxyXG4gICAgY2VsbDpzdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdvYWxzOiBHb2FsW109W1xyXG4gICAge3JvdzpcInRpbGVyb3cwXCIsY29sOlwidGlsZWNvbDNcIix0aWxlOlwidGlsZTJcIixjZWxsOlwiY2VsbDFcIn0sXHJcbiAgICB7cm93OlwidGlsZXJvdzBcIixjb2w6XCJ0aWxlY29sNVwiLHRpbGU6XCJ0aWxlNFwiLGNlbGw6XCJjZWxsMVwifSxcclxuICAgIHtyb3c6XCJ0aWxlY29sMFwiLGNvbDpcInRpbGVyb3czXCIsdGlsZTpcInRpbGUxNFwiLGNlbGw6XCJjZWxsM1wifSxcclxuICAgIHtyb3c6XCJ0aWxlY29sMFwiLGNvbDpcInRpbGVyb3c1XCIsdGlsZTpcInRpbGUyOFwiLGNlbGw6XCJjZWxsM1wifSxcclxuICAgIHtyb3c6XCJ0aWxlY29sOFwiLGNvbDpcInRpbGVyb3czXCIsdGlsZTpcInRpbGUyMFwiLGNlbGw6XCJjZWxsNVwifSxcclxuICAgIHtyb3c6XCJ0aWxlY29sOFwiLGNvbDpcInRpbGVyb3c1XCIsdGlsZTpcInRpbGUzNFwiLGNlbGw6XCJjZWxsNVwifSxcclxuICAgIHtyb3c6XCJ0aWxlcm93OFwiLGNvbDpcInRpbGVjb2wzXCIsdGlsZTpcInRpbGU0NFwiLGNlbGw6XCJjZWxsN1wifSxcclxuICAgIHtyb3c6XCJ0aWxlcm93OFwiLGNvbDpcInRpbGVjb2w1XCIsdGlsZTpcInRpbGU0NlwiLGNlbGw6XCJjZWxsN1wifSxcclxuXSIsImV4cG9ydCBpbnRlcmZhY2UgY29uY2VwdCB7Y29uY2VwdDpzdHJpbmcsZGVzY3JpcHRpb246c3RyaW5nLGdhbWVDYXNlOnN0cmluZyxpbWFnZTpzdHJpbmd9XHJcblxyXG5leHBvcnQgY29uc3QgbWFpbkNvbmNlcHRzQ29uc3Q6Y29uY2VwdFtdPVtcclxuICAgIHtcclxuICAgICAgICBjb25jZXB0OlwiUmVkdWNlXCIsXHJcbiAgICAgICAgZGVzY3JpcHRpb246XCJSZWR1Y2luZyBpcyBzaW1wbHkgY3JlYXRpbmcgbGVzcyB3YXN0ZS4gSXTigJlzIHRoZSBiZXN0IG1ldGhvZCBmb3Iga2VlcGluZyB0aGUgZW52aXJvbm1lbnQgY2xlYW4sIHNvIGl04oCZcyB0aGUgZmlyc3Qgb2YgdGhlIDMgUnMuIEJ5IHJlZHVjaW5nLCB5b3Ugc3RvcCB0aGUgcHJvYmxlbSBhdCB0aGUgc291cmNlLlwiLFxyXG4gICAgICAgIGdhbWVDYXNlOlwiVGhlIHRpbGVzIGZvciB0aGlzIG1hemUgaGF2ZSBiZWVuIGdlbmVyYXRlZCBvbmNlIGFuZCB0aGV5IHdpbGwgYmUgdXNlZCBlYWNoIHRpbWUgYW55b25lIHBsYXlzIHRoaXMgZ2FtZS5cIixcclxuICAgICAgICBpbWFnZTpgPGltZyBzcmM9XCIuL3N0YXRpYy9yZWR1Y2UuanBnXCI+YFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb25jZXB0OlwiUmV1c2VcIixcclxuICAgICAgICBkZXNjcmlwdGlvbjpcIlJldXNlIGl0ZW1zIGFzIG11Y2ggYXMgeW91IGNhbiBiZWZvcmUgcmVwbGFjaW5nIHRoZW0uIFJldXNpbmcgaXMgdGFraW5nIG9sZCBvciB1bndhbnRlZCBpdGVtcyB5b3UgbWlnaHQgb3RoZXJ3aXNlIHRocm93IGF3YXkgYW5kIGZpbmRpbmcgYSBuZXcgdXNlIGZvciB0aGVtLlwiLFxyXG4gICAgICAgIGdhbWVDYXNlOlwiRWFjaCB0aW1lIHlvdSBwbGF5IHRoaXMgZ2FtZSwgdGhlIHNhbWUgc2V0IG9mIHRpbGVzIHdpbGwgYmUgcmV1c2VkIGp1c3QgaW4gYSBkaWZmZXJlbnQgcGxhY2UgYW5kIG9yZGVyLlwiLFxyXG4gICAgICAgIGltYWdlOmA8aW1nIHNyYz1cIi4vc3RhdGljL3JldXNlLmpwZ1wiPmBcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uY2VwdDpcIlJlY3ljbGVcIixcclxuICAgICAgICBkZXNjcmlwdGlvbjpcIlJlY3ljbGluZyBpcyB0aGUgbGFzdCDigJQgYW5kIG1vc3QgY29tbW9ubHkgdXNlZCDigJQgb2YgdGhlIDMgUnMuIFJlY3ljbGluZyBpcyBjaGFuZ2luZyBkaXNjYXJkZWQgbWF0ZXJpYWxzIGludG8gbmV3IHByb2R1Y3RzIGluIG9yZGVyIHRvIGF2b2lkIHVzaW5nIG1vcmUgdmlyZ2luIHJlc291cmNlcy5cIixcclxuICAgICAgICBnYW1lQ2FzZTpcIlwiLFxyXG4gICAgICAgIGltYWdlOmA8aW1nIHNyYz1cIi4vc3RhdGljL3JlY3ljbGUuanBnXCI+YFxyXG4gICAgfVxyXG5dXHJcblxyXG5leHBvcnQgY29uc3Qgc2Vjb25kYXJ5Q29uY2VwdHNDb25zdDpjb25jZXB0W109W1xyXG4gICAge1xyXG4gICAgICAgIGNvbmNlcHQ6XCJEaXNwb3NhYmxlIHByb2R1Y3RzXCIsXHJcbiAgICAgICAgZGVzY3JpcHRpb246XCJEaXNwb3NhYmxlIHByb2R1Y3RzIGFyZSBwcm9kdWN0cyB0aGF0IGFyZSBtZW50IHRvIGJlIGRpc2NhcmRlZCBhcyB3YXN0ZSBhZnRlciBhIHNpbmdsZSBvciBhIGZldyB1c2VzLiBJdCBpcyBiZXR0ZXIgdG8gYXZvaWQgdGhlIGNvbnN1bXB0aW9uIG9mIHRoaXMga2luZCBvZiBwcm9kdWN0cyB3aGVuIHBvc3NpYmxlLlwiLFxyXG4gICAgICAgIGdhbWVDYXNlOlwiVGhlIHRpbGVzIGdlbmVyZXRlZCBmb3IgdGhpcyBtYXplIGFyZSBub3QgZGlzcG9zYWJsZSwgYXMgdGhlIHNhbWUgdGlsZXMgd2lsbCBiZSB1c2VkIGVhY2ggdGltZSB5b3Ugb3IgYW55b25lIHBsYXlzIHRoZSBnYW1lLlwiLFxyXG4gICAgICAgIGltYWdlOmA8aW1nIHNyYz1cIi4vc3RhdGljL2Rpc3Bvc2FibGUuanBnXCI+YFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb25jZXB0OlwiTGFuZGZpbGxcIixcclxuICAgICAgICBkZXNjcmlwdGlvbjpcIkxhbmRmaWxsIGlzIGEgc2l0ZSBmb3IgdGhlIGRpc3Bvc2FsIG9mIHdhc3RlIG1hdGVyaWFscy5cIixcclxuICAgICAgICBnYW1lQ2FzZTpcIlwiLFxyXG4gICAgICAgIGltYWdlOmA8aW1nIHNyYz1cIi4vc3RhdGljL2xhbmRmaWxsLmpwZ1wiPmBcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uY2VwdDpcIlJlZ2VuZXJhdGVcIixcclxuICAgICAgICBkZXNjcmlwdGlvbjpcIlJlZ2VuZXJhdGl2ZSBzdXN0YWluYWJpbGl0eSBhY3RpdmVseSBzZWVrcyB0byByZXN0b3JlIGFuZCByZXZpdGFsaXplIG5hdHVyYWwgc3lzdGVtcy4gRm9yIGV4YW1wbGUsIHRvIHJlZm9yZXN0LCB0byByZWR1Y2UgdGhlIGFtb3VudCBvZiBncmVlbmhvdXNlIGdhc2VzIG9uIHRoZSBhdGhtb3NwaGVyZSwgdG8gcmVpbnRyb2R1Y2Ugc3BlY2llcyB0byB0aGVpciBob21lIGVudmlyb25tZW50cy5cIixcclxuICAgICAgICBnYW1lQ2FzZTpcIkluIHRoaXMgZ2FtZSwgeW91IGFyZSBlbmNvdXJhZ2VkIHRvIGdvIHRocm91Z2ggYWxsIHNtYWxsIHBsYW50cyBhbmQgaGVscCB0aGVtIGdyb3cgaW50byBtYXR1cmUgdHJlZXMsIHdoaWNoIGFic29yYiBncmVlbmhvdXNlIGdhc2VzLlwiLFxyXG4gICAgICAgIGltYWdlOmA8aW1nIHNyYz1cIi4vc3RhdGljL3JlZ2VuZXJhdGUuanBnXCI+YFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb25jZXB0OlwiUmVjb3ZlclwiLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOlwiVGhlIGFjdCBvZiBwdXR0aW5nIHdhc3RlIHByb2R1Y3RzIHRvIHVzZS4gRm9yIGV4YW1wbGUsIGRlY29tcG9zaW5nIGdhcmJhZ2UgcHJvZHVjZXMgbWV0aGFuZSBnYXMsIHdoaWNoIGNhbiBiZSByZWNvdmVyZWQgYW5kIGJ1cm50IHRvIHByb2R1Y2UgZW5lcmd5LlwiLFxyXG4gICAgICAgIGdhbWVDYXNlOlwiXCIsXHJcbiAgICAgICAgaW1hZ2U6YDxpbWcgc3JjPVwiLi9zdGF0aWMvcmVjb3Zlci5qcGdcIj5gXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvbmNlcHQ6XCJDb21wb3N0aW5nXCIsXHJcbiAgICAgICAgZGVzY3JpcHRpb246XCJDb21wb3N0aW5nIGlzIG5hdHVyZeKAmXMgd2F5IG9mIHJlY3ljbGluZy4gSXQgaXMgb25lIG9mIHRoZSBtb3N0IHBvd2VyZnVsIGFjdGlvbnMgd2UgY2FuIHRha2UgdG8gcmVkdWNlIG91ciB0cmFzaC4gQnkgdHVybmluZyBvdXIgZm9vZCBzY3JhcHMgYW5kIHlhcmQgdHJpbSBpbnRvIGNvbXBvc3QsIHdlIGNhbiB0cmFuc2Zvcm0gb3VyIHdhc3RlIHN0cmVhbXMgaW50byByaWNoIHNvaWwgZm9yIHBsYW50cyB0byBncm93LlwiLFxyXG4gICAgICAgIGdhbWVDYXNlOlwiXCIsXHJcbiAgICAgICAgaW1hZ2U6YDxpbWcgc3JjPVwiLi9zdGF0aWMvY29tcG9zdGluZy5qcGdcIj5gXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvbmNlcHQ6XCJXYXN0ZVwiLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOlwiV2FzdGUgaXMgYSBwcm9kdWN0IG9yIHN1YnN0YW5jZSB3aGljaCBpcyBubyBsb25nZXIgc3VpdGVkIGZvciBpdHMgaW50ZW5kZWQgdXNlLiBBbnkgcHJvZHVjdCB0aGF0IHdlIGRvbid0IHJldXNlIG9yIHJlY3ljbGUgdGhhdCB3ZSBkaXNjYXJkLCBpcyB3YXN0ZS4gSXQgaXMgd2hhdCB3ZSBhaW0gdG8gcmVkdWNlLiBXaGVuIHNvbWUga2luZHMgb2Ygd2FzdGUgcm90cyBtZXRoYW5lIGlzIHByb2R1Y2VkLiBNZXRoYW5lIGlzIGEgZ3JlZW5ob3VzZSBnYXMgdGhhdCBjb250cmlidXRlcyB0byBnbG9iYWwgd2FybWluZy5cIixcclxuICAgICAgICBnYW1lQ2FzZTpcIlwiLFxyXG4gICAgICAgIGltYWdlOmA8aW1nIHNyYz1cIi4vc3RhdGljL3dhc3RlLmpwZ1wiPmBcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uY2VwdDpcIkdsb2JhbCB3YXJtaW5nXCIsXHJcbiAgICAgICAgZGVzY3JpcHRpb246XCJHbG9iYWwgd2FybWluZyBpcyB0aGUgY3VycmVudCByaXNlIGluIHRlbXBlcmF0dXJlIG9mIHRoZSBhaXIgYW5kIG9jZWFucy4gR2xvYmFsIHdhcm1pbmcgaXMgYSBzaWduaWZpY2FudCBhbmQgcmFwaWRseSBhY2NlbGVyYXRpbmcgaXNzdWUgY2F1c2VkIGJ5IGh1bWFuIGFjdGl2aXRpZXMsIHN1Y2ggYXMgZ3JlZW5ob3VzZSBnYXMgZW1pc3Npb25zLCBkZWZvcmVzdGF0aW9uLCBhbmQgdGhlIGJ1cm5pbmcgb2YgZm9zc2lsIGZ1ZWxzLlwiLFxyXG4gICAgICAgIGdhbWVDYXNlOlwiXCIsXHJcbiAgICAgICAgaW1hZ2U6YDxpbWcgc3JjPVwiLi9zdGF0aWMvZ2xvYmFsd2FybWluZy5qcGdcIj5gXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvbmNlcHQ6XCJHcmVlbmhvdXNlIGdhc2VzXCIsXHJcbiAgICAgICAgZGVzY3JpcHRpb246XCJHcmVlbmhvdXNlIGdhc2VzIGFyZSBnYXNlcyB0aGF0IGFic29yYiBhbmQgZW1pdCBpbmZyYXJlZCByYWRpYXRpb24gYW5kIGhlYXQgdGhlIEVhcnRoLiBUaGV5IGFyZSByZXF1aXJlZCB0byBrZWVwIHRoZSBFYXJ0aCB3YXJtdGgsIGJ1dCBvbiBhIGhpZ2ggbGV2ZWwgb2YgcHJlc2VuY2UgaW4gdGhlIGF0aG1vc3BoZXJlIHRoZXkgY2FuIGluY3JlYXNlIGdsb2JhbCB3YXJtaW5nLlwiLFxyXG4gICAgICAgIGdhbWVDYXNlOlwiSW4gdGhpcyBnYW1lLCB5b3UgYXJlIGVuY291cmFnZWQgdG8gZ28gdGhyb3VnaCBhbGwgc21hbGwgcGxhbnRzIGFuZCBoZWxwIHRoZW0gZ3JvdyBpbnRvIG1hdHVyZSB0cmVlcywgd2hpY2ggYWJzb3JiIGdyZWVuaG91c2UgZ2FzZXMuXCIsXHJcbiAgICAgICAgaW1hZ2U6YDxpbWcgc3JjPVwiLi9zdGF0aWMvZ3JlZW5ob3VzZS5qcGdcIj5gXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvbmNlcHQ6XCJTdXN0YWluYWJpbGl0eVwiLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOlwiU3VzdGFpbmFiaWxpdHkgbWVhbnMgbWVldGluZyBvdXIgb3duIG5lZWRzIHdpdGhvdXQgY29tcHJvbWlzaW5nIHRoZSBhYmlsaXR5IG9mIGZ1dHVyZSBnZW5lcmF0aW9ucyB0byBtZWV0IHRoZWlyIG93biBuZWVkcy5cIixcclxuICAgICAgICBnYW1lQ2FzZTpcIlwiLFxyXG4gICAgICAgIGltYWdlOmA8aW1nIHNyYz1cIi4vc3RhdGljL3N1c3RhaW5hYmlsaXR5LmpwZ1wiPmBcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uY2VwdDpcIlBvbGx1dGlvblwiLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOlwiUG9sbHV0aW9uIGlzIHRoZSBpbnRyb2R1Y3Rpb24gb2YgY29udGFtaW5hbnRzIGludG8gdGhlIG5hdHVyYWwgZW52aXJvbm1lbnQgdGhhdCBjYXVzZSBhZHZlcnNlIGNoYW5nZS5cIixcclxuICAgICAgICBnYW1lQ2FzZTpcIlwiLFxyXG4gICAgICAgIGltYWdlOmA8aW1nIHNyYz1cIi4vc3RhdGljL3BvbGx1dGlvbi5qcGdcIj5gXHJcbiAgICB9XHJcbl0iLCJpbXBvcnQgeyBjb25jZXB0LCBtYWluQ29uY2VwdHNDb25zdCwgc2Vjb25kYXJ5Q29uY2VwdHNDb25zdCB9IGZyb20gXCIuLi9jb25zdHMvY29uY2VwdHMuY29uc3RcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBtekNvbmNlcHRzIHtcclxuICAgIHByaXZhdGUgbWFpbkNvbmNlcHRzOmNvbmNlcHRbXVxyXG4gICAgcHJpdmF0ZSBzZWNvbmRhcnlDb25jZXB0czpjb25jZXB0W11cclxuXHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHRoaXMubWFpbkNvbmNlcHRzPW1haW5Db25jZXB0c0NvbnN0LnNsaWNlKCk7XHJcbiAgICAgICAgdGhpcy5zZWNvbmRhcnlDb25jZXB0cz1zZWNvbmRhcnlDb25jZXB0c0NvbnN0LnNsaWNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldENvbmNlcHQoKTpjb25jZXB0e1xyXG4gICAgICAgIGlmICh0aGlzLm1haW5Db25jZXB0cy5sZW5ndGg+MCl7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE1haW5Db25jZXB0KCk7XHJcbiAgICAgICAgfSBlbHNlIGlmKHRoaXMuc2Vjb25kYXJ5Q29uY2VwdHMubGVuZ3RoPjApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2Vjb25kYXJ5Q29uY2VwdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldE1haW5Db25jZXB0KCk6Y29uY2VwdHtcclxuICAgICAgICBsZXQgcm51bT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqdGhpcy5tYWluQ29uY2VwdHMubGVuZ3RoKTtcclxuICAgICAgICBsZXQgcmVzcDpjb25jZXB0PXRoaXMubWFpbkNvbmNlcHRzW3JudW1dO1xyXG4gICAgICAgIHRoaXMubWFpbkNvbmNlcHRzLnNwbGljZShybnVtLDEpO1xyXG4gICAgICAgIHJldHVybiByZXNwXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRTZWNvbmRhcnlDb25jZXB0KCk6Y29uY2VwdHtcclxuICAgICAgICBsZXQgcm51bT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqdGhpcy5zZWNvbmRhcnlDb25jZXB0cy5sZW5ndGgpO1xyXG4gICAgICAgIGxldCByZXNwOmNvbmNlcHQ9dGhpcy5zZWNvbmRhcnlDb25jZXB0c1tybnVtXTtcclxuICAgICAgICB0aGlzLnNlY29uZGFyeUNvbmNlcHRzLnNwbGljZShybnVtLDEpO1xyXG4gICAgICAgIHJldHVybiByZXNwXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBCb2FyZCB9IGZyb20gXCIuL0JvYXJkLmNsYXNzXCI7XHJcbmltcG9ydCB7IFRpbGUgfSBmcm9tIFwiLi9UaWxlLmNsYXNzXCI7XHJcbmltcG9ydCB7IEdyaWRDZWxsIH0gZnJvbSBcIi4vR3JpZENlbGwuY2xhc3NcIjtcclxuaW1wb3J0IHsgZml4ZWRUaWxlcyB9IGZyb20gXCIuLi9jb25zdHMvZml4ZWRUaWxlcy5jb25zdFwiO1xyXG5pbXBvcnQgeyBCb2FyZFJvdyB9IGZyb20gXCIuL0JvYXJkUm93LmNsYXNzXCI7XHJcbmltcG9ydCB7IEdvYWwsIGdvYWxzIH0gZnJvbSBcIi4uL2NvbnN0cy9wb3NzaWJsZUdvYWxzLmNvbnN0XCI7XHJcbmltcG9ydCB7IG16Q29uY2VwdHMgfSBmcm9tIFwiLi9jb25jZXB0cy5jbGFzc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIG16T25Jbml0IHtcclxuICAgIHByaXZhdGUgcmFuZG9tVGlsZXM6IFRpbGVbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnJhbmRvbVRpbGVzID0gdGhpcy5jcmVhdGVNb3ZlYWJsZVRpbGVzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZUJvYXJkKCk6IEJvYXJkIHtcclxuICAgICAgICBsZXQgYm9hcmRSb3dzOiBCb2FyZFJvd1tdID0gW11cclxuICAgICAgICBsZXQgdGFrZW5UaWxlczogVGlsZVtdID0gdGhpcy50YWtlTlRpbGVzKDMpO1xyXG4gICAgICAgIGJvYXJkUm93cy5wdXNoKG5ldyBCb2FyZFJvdyhbZml4ZWRUaWxlc1swXSwgdGFrZW5UaWxlc1swXSwgZml4ZWRUaWxlc1sxXSwgdGFrZW5UaWxlc1sxXSwgZml4ZWRUaWxlc1syXSwgdGFrZW5UaWxlc1syXSwgZml4ZWRUaWxlc1szXV0pKTsgLy9maXJzdCByb3dcclxuICAgICAgICBib2FyZFJvd3MucHVzaChuZXcgQm9hcmRSb3codGhpcy50YWtlTlRpbGVzKDcpKSk7IC8vc2Vjb25kIHJvd1xyXG4gICAgICAgIHRha2VuVGlsZXMgPSB0aGlzLnRha2VOVGlsZXMoMyk7XHJcbiAgICAgICAgYm9hcmRSb3dzLnB1c2gobmV3IEJvYXJkUm93KFtmaXhlZFRpbGVzWzRdLCB0YWtlblRpbGVzWzBdLCBmaXhlZFRpbGVzWzVdLCB0YWtlblRpbGVzWzFdLCBmaXhlZFRpbGVzWzZdLCB0YWtlblRpbGVzWzJdLCBmaXhlZFRpbGVzWzddXSkpOyAvL3RoaXJkIHJvd1xyXG4gICAgICAgIGJvYXJkUm93cy5wdXNoKG5ldyBCb2FyZFJvdyh0aGlzLnRha2VOVGlsZXMoNykpKTsgLy9mb3VydGggcm93XHJcbiAgICAgICAgdGFrZW5UaWxlcyA9IHRoaXMudGFrZU5UaWxlcygzKTtcclxuICAgICAgICBib2FyZFJvd3MucHVzaChuZXcgQm9hcmRSb3coW2ZpeGVkVGlsZXNbOF0sIHRha2VuVGlsZXNbMF0sIGZpeGVkVGlsZXNbOV0sIHRha2VuVGlsZXNbMV0sIGZpeGVkVGlsZXNbMTBdLCB0YWtlblRpbGVzWzJdLCBmaXhlZFRpbGVzWzExXV0pKTsgLy9maWZ0aCByb3dcclxuICAgICAgICBib2FyZFJvd3MucHVzaChuZXcgQm9hcmRSb3codGhpcy50YWtlTlRpbGVzKDcpKSk7IC8vc2l4dGggcm93XHJcbiAgICAgICAgdGFrZW5UaWxlcyA9IHRoaXMudGFrZU5UaWxlcygzKTtcclxuICAgICAgICBib2FyZFJvd3MucHVzaChuZXcgQm9hcmRSb3coW2ZpeGVkVGlsZXNbMTJdLCB0YWtlblRpbGVzWzBdLCBmaXhlZFRpbGVzWzEzXSwgdGFrZW5UaWxlc1sxXSwgZml4ZWRUaWxlc1sxNF0sIHRha2VuVGlsZXNbMl0sIGZpeGVkVGlsZXNbMTVdXSkpOyAvL3NldmVudGggcm93XHJcbiAgICAgICAgcmV0dXJuIChuZXcgQm9hcmQoYm9hcmRSb3dzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFN0YXJ0aW5nUG9zaXRpb24oYm9hcmQ6IEJvYXJkKTogW251bWJlciwgbnVtYmVyXSB7XHJcbiAgICAgICAgbGV0IHJuOiBudW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0KTtcclxuICAgICAgICBzd2l0Y2ggKHJuKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBbMSwgMV07XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsxOSwgMV07XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsxLCAxOV1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gWzE5LCAxOV1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsxLCAxXVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY3JlYXRlTW92ZWFibGVUaWxlcygpOiBUaWxlW10ge1xyXG4gICAgICAgIGxldCByYW5kb21UaWxlczogVGlsZVtdID0gW107XHJcbiAgICAgICAgLy8xMiBzdHJhaWdodCBsaW5lcyB3aXRoIG5vIGtleSBjb25jZXB0XHJcbiAgICAgICAgbGV0IHRlbXBsYXRlU3RyYWlnaHRUaWxlR3JpZDogR3JpZENlbGxbXSA9IFtcclxuICAgICAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLCBmYWxzZSksXHJcbiAgICAgICAgICAgIG5ldyBHcmlkQ2VsbChmYWxzZSwgZmFsc2UpLFxyXG4gICAgICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsIGZhbHNlKSxcclxuICAgICAgICAgICAgbmV3IEdyaWRDZWxsKHRydWUsIGZhbHNlKSxcclxuICAgICAgICAgICAgbmV3IEdyaWRDZWxsKHRydWUsIGZhbHNlKSxcclxuICAgICAgICAgICAgbmV3IEdyaWRDZWxsKHRydWUsIGZhbHNlKSxcclxuICAgICAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLCBmYWxzZSksXHJcbiAgICAgICAgICAgIG5ldyBHcmlkQ2VsbChmYWxzZSwgZmFsc2UpLFxyXG4gICAgICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsIGZhbHNlKVxyXG4gICAgICAgIF1cclxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgMTI7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgbGV0IGdyaWRDb3B5ID0gdGVtcGxhdGVTdHJhaWdodFRpbGVHcmlkLnNsaWNlKCk7XHJcbiAgICAgICAgICAgIGxldCBzdHJhaWdodFRpbGUgPSBuZXcgVGlsZShncmlkQ29weSk7XHJcbiAgICAgICAgICAgIHJhbmRvbVRpbGVzLnB1c2goc3RyYWlnaHRUaWxlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy82IFQgYWxsIHdpdGgga2V5IGNvbmNlcHRcclxuICAgICAgICBsZXQgdGVtcGxhdGVUVGlsZUdyaWQ6IEdyaWRDZWxsW10gPSBbXHJcbiAgICAgICAgICAgIG5ldyBHcmlkQ2VsbChmYWxzZSwgZmFsc2UpLFxyXG4gICAgICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsIGZhbHNlKSxcclxuICAgICAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLCBmYWxzZSksXHJcbiAgICAgICAgICAgIG5ldyBHcmlkQ2VsbCh0cnVlLCBmYWxzZSksXHJcbiAgICAgICAgICAgIG5ldyBHcmlkQ2VsbCh0cnVlLCBmYWxzZSksXHJcbiAgICAgICAgICAgIG5ldyBHcmlkQ2VsbCh0cnVlLCBmYWxzZSksXHJcbiAgICAgICAgICAgIG5ldyBHcmlkQ2VsbChmYWxzZSwgZmFsc2UpLFxyXG4gICAgICAgICAgICBuZXcgR3JpZENlbGwodHJ1ZSwgZmFsc2UpLFxyXG4gICAgICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsIGZhbHNlKVxyXG4gICAgICAgIF1cclxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgNjsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICBsZXQgZ3JpZENvcHkgPSB0ZW1wbGF0ZVRUaWxlR3JpZC5zbGljZSgpO1xyXG4gICAgICAgICAgICBsZXQgVFRpbGUgPSBuZXcgVGlsZShncmlkQ29weSk7XHJcbiAgICAgICAgICAgIHJhbmRvbVRpbGVzLnB1c2goVFRpbGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLzE2IGVsYm93LCA2IHdpdGgga2V5IGNvbmNlcHRcclxuICAgICAgICBsZXQgdGVtcGxhdGVUdXJuVGlsZUdyaWQ6IEdyaWRDZWxsW10gPSBbXHJcbiAgICAgICAgICAgIG5ldyBHcmlkQ2VsbChmYWxzZSwgZmFsc2UpLFxyXG4gICAgICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsIGZhbHNlKSxcclxuICAgICAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLCBmYWxzZSksXHJcbiAgICAgICAgICAgIG5ldyBHcmlkQ2VsbChmYWxzZSwgZmFsc2UpLFxyXG4gICAgICAgICAgICBuZXcgR3JpZENlbGwodHJ1ZSwgZmFsc2UpLFxyXG4gICAgICAgICAgICBuZXcgR3JpZENlbGwodHJ1ZSwgZmFsc2UpLFxyXG4gICAgICAgICAgICBuZXcgR3JpZENlbGwoZmFsc2UsIGZhbHNlKSxcclxuICAgICAgICAgICAgbmV3IEdyaWRDZWxsKHRydWUsIGZhbHNlKSxcclxuICAgICAgICAgICAgbmV3IEdyaWRDZWxsKGZhbHNlLCBmYWxzZSlcclxuICAgICAgICBdXHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IDE2OyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGxldCBncmlkQ29weSA9IHRlbXBsYXRlVHVyblRpbGVHcmlkLnNsaWNlKCk7XHJcbiAgICAgICAgICAgIGxldCBUdXJuVGlsZSA9IG5ldyBUaWxlKGdyaWRDb3B5KTtcclxuICAgICAgICAgICAgcmFuZG9tVGlsZXMucHVzaChUdXJuVGlsZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmFuZG9tVGlsZXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB0YWtlTlRpbGVzKG46IG51bWJlcik6IFRpbGVbXSB7XHJcbiAgICAgICAgbGV0IHRha2VuVGlsZXM6IFRpbGVbXSA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBuOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIC8vdGFrZSByYW5kb20gdGlsZVxyXG4gICAgICAgICAgICBsZXQgaSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMucmFuZG9tVGlsZXMubGVuZ3RoKTtcclxuICAgICAgICAgICAgbGV0IHJUaWxlOiBUaWxlID0gdGhpcy5yYW5kb21UaWxlc1tpXTtcclxuICAgICAgICAgICAgLy9yb3RhdGUgcmFuZG9tIHRpbGVcclxuICAgICAgICAgICAgbGV0IHJuID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNCk7XHJcbiAgICAgICAgICAgIHJUaWxlLnJvdGF0ZSgncicsIHJuKTtcclxuICAgICAgICAgICAgLy9hZGQgcmFuZG9tIHRpbGUgZm9yIHJvdyBhbmQgcmVtb3ZlIGZyb20gc3RvY2sgYXJyYXlcclxuICAgICAgICAgICAgdGFrZW5UaWxlcy5wdXNoKHJUaWxlKTtcclxuICAgICAgICAgICAgdGhpcy5yYW5kb21UaWxlcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0YWtlblRpbGVzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRFeHRyYVRpbGUoKTpUaWxle1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJhbmRvbVRpbGVzWzBdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRHb2FsKCk6R29hbHtcclxuICAgICAgICBsZXQgZ29hbG49TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmdvYWxzLmxlbmd0aCk7XHJcbiAgICAgICAgcmV0dXJuIGdvYWxzW2dvYWxuXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0Q29uY2VwdHMoKTptekNvbmNlcHRze1xyXG4gICAgICAgIGxldCBtekNvbmNlcHQ6bXpDb25jZXB0cz1uZXcgbXpDb25jZXB0cygpO1xyXG4gICAgICAgIHJldHVybiBtekNvbmNlcHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBsYXlBdWRpbygpe1xyXG4gICAgICAgIGxldCBtYWluVHJhY2s6YW55PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpbi10cmFja1wiKTtcclxuICAgICAgICBcclxuICAgICAgICBtYWluVHJhY2sucGF1c2UoKTtcclxuICAgICAgICBtYWluVHJhY2suY3VycmVudFRpbWU9MDtcclxuICAgICAgICBtYWluVHJhY2sudm9sdW1lPTAuNTtcclxuICAgICAgICBtYWluVHJhY2sucGxheSgpO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgR2FtZSB9IGZyb20gXCIuL2dhbWUuY2xhc3NcIjtcclxuaW1wb3J0IHsgaHRtbEhhbmRsZXIgfSBmcm9tIFwiLi9odG1sRG9jSGFuZGxlci5jbGFzc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIG16UGF3biB7XHJcbiAgICBwcml2YXRlIHBhd25YOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHBhd25ZOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgY2FuTW92ZTogYm9vbGVhbjtcclxuICAgIGNvbnN0cnVjdG9yKG46IG51bWJlcltdLCBoYW5kbGVyOiBodG1sSGFuZGxlcikge1xyXG4gICAgICAgIHRoaXMucGF3blggPSBuWzBdO1xyXG4gICAgICAgIHRoaXMucGF3blkgPSBuWzFdO1xyXG4gICAgICAgIHRoaXMuY2FuTW92ZSA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBUaWxlbjogSFRNTEVsZW1lbnQgPSBoYW5kbGVyLmdldFBhcmVudENlbGxEaXYodGhpcy5wYXduWCwgdGhpcy5wYXduWSk7XHJcbiAgICAgICAgVGlsZW4uY2xhc3NMaXN0LmFkZChcInRpbGUtb2NjdXBpZWRcIilcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW92ZVBhd24oZGlyZWN0aW9uOiBzdHJpbmcsIGhhbmRsZXI6IGh0bWxIYW5kbGVyLGdhbWU6IEdhbWUpOiBudW1iZXIge1xyXG4gICAgICAgIGlmICh0aGlzLmNhbk1vdmUpIHtcclxuICAgICAgICAgICAgbGV0IG5ld1g6IG51bWJlclxyXG4gICAgICAgICAgICBsZXQgbmV3WTogbnVtYmVyXHJcbiAgICAgICAgICAgIHN3aXRjaCAoZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwidXBcIjpcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3WCA9IHRoaXMucGF3blggLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1kgPSB0aGlzLnBhd25ZO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImRvd25cIjpcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3WCA9IHRoaXMucGF3blggKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1kgPSB0aGlzLnBhd25ZO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInJpZ2h0XCI6XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG5ld1ggPSB0aGlzLnBhd25YO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1kgPSB0aGlzLnBhd25ZICsgMTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJsZWZ0XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3WCA9IHRoaXMucGF3blg7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3WSA9IHRoaXMucGF3blkgLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGhhbmRsZXIuZ2V0RGl2Q2xhc3Nlc0J5Q29vcmRzKG5ld1gsIG5ld1kpLmluY2x1ZGVzKFwiZ29hbFwiKSl7XHJcbiAgICAgICAgICAgICAgICBnYW1lLndpbkdhbWUoaGFuZGxlcix0aGlzKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChoYW5kbGVyLmdldERpdkNsYXNzZXNCeUNvb3JkcyhuZXdYLCBuZXdZKS5pbmNsdWRlcyhcIndhbGthYmxlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgb2xkVGlsZW46IEhUTUxFbGVtZW50ID0gaGFuZGxlci5nZXRQYXJlbnRDZWxsRGl2KHRoaXMucGF3blgsIHRoaXMucGF3blkpO1xyXG4gICAgICAgICAgICAgICAgbGV0IG5ld1RpbGVuOiBIVE1MRWxlbWVudCA9IGhhbmRsZXIuZ2V0UGFyZW50Q2VsbERpdihuZXdYLCBuZXdZKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGF3blggPSBuZXdYO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXduWSA9IG5ld1k7XHJcbiAgICAgICAgICAgICAgICBpZiAob2xkVGlsZW4uY2xhc3NMaXN0ICE9IG5ld1RpbGVuLmNsYXNzTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuY2hhbmdlVGlsZU9jY3VwaWVkKG9sZFRpbGVuLCBuZXdUaWxlbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIC0xXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRQYXduQ29vcmRzKCk6IG51bWJlcltdIHtcclxuICAgICAgICByZXR1cm4gW3RoaXMucGF3blgsIHRoaXMucGF3blldXHJcbiAgICB9XHJcbn0iLCJleHBvcnQgaW50ZXJmYWNlIGxpbmVOYW1lSXRlbXtcclxuICAgIHZlcnRpY2FsaXR5OnN0cmluZyxkaXJlY3Rpb246c3RyaW5nLGxpbmVzOntudW1iZXI6bnVtYmVyLGxpbmVOYW1lOnN0cmluZ31bXSxvcHBvc2VkTGluZTpzdHJpbmdcclxufVxyXG5cclxuaW50ZXJmYWNlIGxpbmVOYW1le1xyXG4gICAgdGlsZXJvdzA6bGluZU5hbWVJdGVtLFxyXG4gICAgdGlsZXJvdzg6bGluZU5hbWVJdGVtLFxyXG4gICAgdGlsZWNvbDA6bGluZU5hbWVJdGVtLFxyXG4gICAgdGlsZWNvbDg6bGluZU5hbWVJdGVtXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBsaW5lTmFtZXM6bGluZU5hbWUgPSB7XHJcbiAgICB0aWxlcm93MDogeyB2ZXJ0aWNhbGl0eTogXCJ2XCIsIGRpcmVjdGlvbjogXCJkXCIsIGxpbmVzOiBbeyBudW1iZXI6IDEsIGxpbmVOYW1lOiBcInRpbGVjb2wyXCIgfSwgeyBudW1iZXI6IDMsIGxpbmVOYW1lOiBcInRpbGVjb2w0XCIgfSwgeyBudW1iZXI6IDUsIGxpbmVOYW1lOiBcInRpbGVjb2w2XCIgfV0sb3Bwb3NlZExpbmU6XCJ0aWxlcm93OFwiIH0sXHJcbiAgICB0aWxlcm93ODogeyB2ZXJ0aWNhbGl0eTogXCJ2XCIsIGRpcmVjdGlvbjogXCJ1XCIsIGxpbmVzOiBbeyBudW1iZXI6IDEsIGxpbmVOYW1lOiBcInRpbGVjb2wyXCIgfSwgeyBudW1iZXI6IDMsIGxpbmVOYW1lOiBcInRpbGVjb2w0XCIgfSwgeyBudW1iZXI6IDUsIGxpbmVOYW1lOiBcInRpbGVjb2w2XCIgfV0sb3Bwb3NlZExpbmU6XCJ0aWxlcm93MFwiIH0sXHJcbiAgICB0aWxlY29sMDogeyB2ZXJ0aWNhbGl0eTogXCJoXCIsIGRpcmVjdGlvbjogXCJyXCIsIGxpbmVzOiBbeyBudW1iZXI6IDEsIGxpbmVOYW1lOiBcInRpbGVyb3cyXCIgfSwgeyBudW1iZXI6IDMsIGxpbmVOYW1lOiBcInRpbGVyb3c0XCIgfSwgeyBudW1iZXI6IDUsIGxpbmVOYW1lOiBcInRpbGVyb3c2XCIgfV0sb3Bwb3NlZExpbmU6XCJ0aWxlY29sOFwiIH0sXHJcbiAgICB0aWxlY29sODogeyB2ZXJ0aWNhbGl0eTogXCJoXCIsIGRpcmVjdGlvbjogXCJsXCIsIGxpbmVzOiBbeyBudW1iZXI6IDEsIGxpbmVOYW1lOiBcInRpbGVyb3cyXCIgfSwgeyBudW1iZXI6IDMsIGxpbmVOYW1lOiBcInRpbGVyb3c0XCIgfSwgeyBudW1iZXI6IDUsIGxpbmVOYW1lOiBcInRpbGVyb3c2XCIgfV0sb3Bwb3NlZExpbmU6XCJ0aWxlY29sMFwiIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGJvcmRlclJvd3MgPSBbXCJ0aWxlcm93MFwiLCBcInRpbGVyb3c4XCIsIFwidGlsZWNvbDBcIiwgXCJ0aWxlY29sOFwiXSIsImltcG9ydCB7IEJvYXJkIH0gZnJvbSBcIi4vY2xhc3Nlcy9Cb2FyZC5jbGFzc1wiO1xyXG5pbXBvcnQgeyBUaWxlIH0gZnJvbSBcIi4vY2xhc3Nlcy9UaWxlLmNsYXNzXCI7XHJcbmltcG9ydCB7IG16Q29uY2VwdHMgfSBmcm9tIFwiLi9jbGFzc2VzL2NvbmNlcHRzLmNsYXNzXCI7XHJcbmltcG9ydCB7IEdhbWUgfSBmcm9tIFwiLi9jbGFzc2VzL2dhbWUuY2xhc3NcIjtcclxuaW1wb3J0IHsgaHRtbEhhbmRsZXIgfSBmcm9tIFwiLi9jbGFzc2VzL2h0bWxEb2NIYW5kbGVyLmNsYXNzXCI7XHJcbmltcG9ydCB7IG16T25Jbml0IH0gZnJvbSBcIi4vY2xhc3Nlcy9pbml0LmNsYXNzXCI7XHJcbmltcG9ydCB7IG16UGF3biB9IGZyb20gXCIuL2NsYXNzZXMvcGF3bi5jbGFzc1wiO1xyXG5pbXBvcnQgeyBib3JkZXJSb3dzLCBsaW5lTmFtZUl0ZW0sIGxpbmVOYW1lcyB9IGZyb20gXCIuL2NvbnN0cy9saW5lTmFtZXMuY29uc3RcIjtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gc3RhcnQoZmlyc3RSdW46IGJvb2xlYW4pIHtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgc3RhcnRpbmdIVE1MID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtYWluLWNvbnRhaW5lclwiKS5pbm5lckhUTUw7XHJcblxyXG4gICAgICAgIC8vaW5pdFxyXG4gICAgICAgIGxldCBJbml0OiBtek9uSW5pdCA9IG5ldyBtek9uSW5pdCgpO1xyXG4gICAgICAgIGxldCBib2FyZDogQm9hcmQgPSBJbml0LmNyZWF0ZUJvYXJkKCk7XHJcbiAgICAgICAgbGV0IG16Q29uY2VwdDogbXpDb25jZXB0cyA9IEluaXQuc2V0Q29uY2VwdHMoKTtcclxuXHJcbiAgICAgICAgLy9pbml0aWFsaXplIGdhbWVcclxuICAgICAgICBsZXQgZ2FtZTogR2FtZSA9IG5ldyBHYW1lKDApO1xyXG5cclxuICAgICAgICAvL2h0bWxIYW5kbGVyXHJcbiAgICAgICAgbGV0IEhhbmRsZXI6IGh0bWxIYW5kbGVyID0gbmV3IGh0bWxIYW5kbGVyKCk7XHJcbiAgICAgICAgSGFuZGxlci5jcmVhdGVIVE1MQm9hcmQoYm9hcmQpO1xyXG4gICAgICAgIEhhbmRsZXIucGxhY2VUaWxlcyhib2FyZCk7XHJcbiAgICAgICAgbGV0IGV4dHJhVGlsZTogVGlsZSA9IEluaXQuZ2V0RXh0cmFUaWxlKCk7XHJcbiAgICAgICAgSGFuZGxlci5wbGFjZUV4dHJhVGlsZShleHRyYVRpbGUpO1xyXG4gICAgICAgIEhhbmRsZXIucGxhY2VHb2FsKEluaXQuc2V0R29hbCgpKTtcclxuICAgICAgICBIYW5kbGVyLnNldFBvaW50cyhnYW1lLnBvaW50cyk7XHJcblxyXG4gICAgICAgIC8vcGF3biB1dGlsaXR5XHJcbiAgICAgICAgbGV0IHN0YXJ0aW5nUG9zOiBbbnVtYmVyLCBudW1iZXJdID0gSW5pdC5zZXRTdGFydGluZ1Bvc2l0aW9uKGJvYXJkKVxyXG4gICAgICAgIGxldCBwYXduVXRpbCA9IG5ldyBtelBhd24oc3RhcnRpbmdQb3MsIEhhbmRsZXIpO1xyXG4gICAgICAgIEhhbmRsZXIucGxhY2VQYXduKHN0YXJ0aW5nUG9zKTtcclxuXHJcbiAgICAgICAgLy9wYXduTW92ZW1lbnRcclxuICAgICAgICBwYXduVXRpbC5jYW5Nb3ZlID0gdHJ1ZTtcclxuICAgICAgICBkb2N1bWVudC5vbmtleWRvd24gPSBjaGVja0tleTtcclxuICAgICAgICBmdW5jdGlvbiBjaGVja0tleShlKSB7XHJcbiAgICAgICAgICAgIGxldCBwYXduTW92ZWQ6IG51bWJlciA9IC0xO1xyXG4gICAgICAgICAgICBsZXQgcHJldmlvdXNQYXduUG9zOiBudW1iZXJbXSA9IHBhd25VdGlsLmdldFBhd25Db29yZHMoKTtcclxuICAgICAgICAgICAgZSA9IGUgfHwgd2luZG93LmV2ZW50O1xyXG5cclxuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAnMzgnKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB1cCBhcnJvd1xyXG4gICAgICAgICAgICAgICAgcGF3bk1vdmVkID0gcGF3blV0aWwubW92ZVBhd24oXCJ1cFwiLCBIYW5kbGVyLCBnYW1lKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09ICc0MCcpIHtcclxuICAgICAgICAgICAgICAgIC8vIGRvd24gYXJyb3dcclxuICAgICAgICAgICAgICAgIHBhd25Nb3ZlZCA9IHBhd25VdGlsLm1vdmVQYXduKFwiZG93blwiLCBIYW5kbGVyLCBnYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT0gJzM3Jykge1xyXG4gICAgICAgICAgICAgICAgLy8gbGVmdCBhcnJvd1xyXG4gICAgICAgICAgICAgICAgcGF3bk1vdmVkID0gcGF3blV0aWwubW92ZVBhd24oXCJsZWZ0XCIsIEhhbmRsZXIsIGdhbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGUua2V5Q29kZSA9PSAnMzknKSB7XHJcbiAgICAgICAgICAgICAgICAvLyByaWdodCBhcnJvd1xyXG4gICAgICAgICAgICAgICAgcGF3bk1vdmVkID0gcGF3blV0aWwubW92ZVBhd24oXCJyaWdodFwiLCBIYW5kbGVyLCBnYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocGF3bk1vdmVkID09IDEpIHtcclxuICAgICAgICAgICAgICAgIG1vdmVQYXduKHByZXZpb3VzUGF3blBvcywgcGF3blV0aWwuZ2V0UGF3bkNvb3JkcygpKVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5hcnJvdy1rZXlcIikuZm9yRWFjaCgoZGl2KSA9PiB7XHJcbiAgICAgICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2hlY2tBcnJvdylcclxuICAgICAgICB9KVxyXG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrQXJyb3coZXZ0KSB7XHJcbiAgICAgICAgICAgIGxldCBhcnJvd0lkID0gZXZ0LnRhcmdldC5pZFxyXG4gICAgICAgICAgICBsZXQgcGF3bk1vdmVkOiBudW1iZXIgPSAtMTtcclxuICAgICAgICAgICAgbGV0IHByZXZpb3VzUGF3blBvczogbnVtYmVyW10gPSBwYXduVXRpbC5nZXRQYXduQ29vcmRzKCk7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoYXJyb3dJZCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImFycm93LXVwXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcGF3bk1vdmVkID0gcGF3blV0aWwubW92ZVBhd24oXCJ1cFwiLCBIYW5kbGVyLCBnYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJhcnJvdy1kb3duXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcGF3bk1vdmVkID0gcGF3blV0aWwubW92ZVBhd24oXCJkb3duXCIsIEhhbmRsZXIsIGdhbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImFycm93LWxlZnRcIjpcclxuICAgICAgICAgICAgICAgICAgICBwYXduTW92ZWQgPSBwYXduVXRpbC5tb3ZlUGF3bihcImxlZnRcIiwgSGFuZGxlciwgZ2FtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiYXJyb3ctcmlnaHRcIjpcclxuICAgICAgICAgICAgICAgICAgICBwYXduTW92ZWQgPSBwYXduVXRpbC5tb3ZlUGF3bihcInJpZ2h0XCIsIEhhbmRsZXIsIGdhbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocGF3bk1vdmVkID09IDEpIHtcclxuICAgICAgICAgICAgICAgIG1vdmVQYXduKHByZXZpb3VzUGF3blBvcywgcGF3blV0aWwuZ2V0UGF3bkNvb3JkcygpKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBtb3ZlUGF3bihwcmV2aW91c1BvcywgbmV3UG9zKSB7XHJcbiAgICAgICAgICAgIEhhbmRsZXIubW92ZVBhd24ocHJldmlvdXNQb3MsIG5ld1Bvcyk7XHJcbiAgICAgICAgICAgIGlmIChIYW5kbGVyLmdldERpdkNsYXNzZXNCeUNvb3JkcyhuZXdQb3NbMF0sIG5ld1Bvc1sxXSkuaW5jbHVkZXMoXCJoYXNDb25jZXB0XCIpKSB7XHJcbiAgICAgICAgICAgICAgICBnYW1lLmdhaW5Qb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgSGFuZGxlci5zZXRQb2ludHMoZ2FtZS5wb2ludHMpO1xyXG4gICAgICAgICAgICAgICAgcGF3blV0aWwuY2FuTW92ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgSGFuZGxlci5leHBsb3JlQ29uY2VwdChuZXdQb3NbMF0sIG5ld1Bvc1sxXSwgbXpDb25jZXB0LmdldENvbmNlcHQoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vZXh0cmEgdGlsZSBtYW5vdXZlclxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdHVybi1leHRyYS10aWxlLXJpZ2h0XCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0dXJuTGVmdCk7XHJcbiAgICAgICAgLy9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3R1cm4tZXh0cmEtdGlsZS1sZWZ0XCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0dXJuTGVmdCk7XHJcbiAgICAgICAgZnVuY3Rpb24gdHVybkxlZnQoKSB7XHJcbiAgICAgICAgICAgIGV4dHJhVGlsZS5yb3RhdGUoXCJyXCIsIDEpO1xyXG4gICAgICAgICAgICBIYW5kbGVyLnBsYWNlRXh0cmFUaWxlKGV4dHJhVGlsZSk7XHJcbiAgICAgICAgICAgIEhhbmRsZXIucm90YXRlU291bmQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHR1cm5SaWdodCgpIHtcclxuICAgICAgICAgICAgZXh0cmFUaWxlLnJvdGF0ZShcImxcIiwgMSk7XHJcbiAgICAgICAgICAgIEhhbmRsZXIucGxhY2VFeHRyYVRpbGUoZXh0cmFUaWxlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vZXh0cmEgdGlsZSBwbGFjZW1lbnRcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnB1c2gtdGlsZXNcIikuZm9yRWFjaChkaXYgPT4ge1xyXG4gICAgICAgICAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHB1c2hUaWxlcyk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcHVzaFRpbGVzKGV2dCkge1xyXG4gICAgICAgICAgICBpZiAocGF3blV0aWwuY2FuTW92ZSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGVsZW1lbnRDbGFzc0xpc3QgPSBldnQuc3JjRWxlbWVudC5jbGFzc0xpc3Q7XHJcbiAgICAgICAgICAgICAgICBib3JkZXJSb3dzLmZvckVhY2goYm9yZGVyUm93ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudENsYXNzTGlzdC5jb250YWlucyhib3JkZXJSb3cpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsaW5lTmFtZUl0ZW06IGxpbmVOYW1lSXRlbSA9IGxpbmVOYW1lc1tib3JkZXJSb3ddXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVOYW1lSXRlbS5saW5lcy5mb3JFYWNoKGxpbmUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRDbGFzc0xpc3QuY29udGFpbnMobGluZS5saW5lTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShIYW5kbGVyLmxpbmVDb250YWluc1Bhd24obGluZS5saW5lTmFtZSkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtib2FyZCwgZXh0cmFUaWxlXSA9IGJvYXJkLnB1c2hMaW5lKGxpbmVOYW1lSXRlbS52ZXJ0aWNhbGl0eSwgbGluZU5hbWVJdGVtLmRpcmVjdGlvbiwgbGluZS5udW1iZXIsIGV4dHJhVGlsZSwgYm9hcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIYW5kbGVyLnJlZnJlc2hMaW5lKGxpbmUubGluZU5hbWUsIGxpbmUubnVtYmVyLCBib2FyZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhhbmRsZXIucGxhY2VFeHRyYVRpbGUoZXh0cmFUaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9jbG9zZSBtb2RhbHNcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Nsb3NlLWNvbmNlcHQtbW9kYWxcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlTW9kYWwpO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNsb3NlTW9kYWwoZXZ0KSB7XHJcbiAgICAgICAgICAgIGxldCBtb2RhbElkOiBzdHJpbmcgPSBcImNvbmNlcHQtbW9kYWxcIlxyXG4gICAgICAgICAgICBzd2l0Y2ggKGV2dC50YXJnZXQuaWQpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJjbG9zZS1jb25jZXB0LW1vZGFsXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJZCA9IFwiY29uY2VwdC1tb2RhbFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImNsb3NlLXR1dG9yaWFsLW1vZGFsXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJZCA9IFwidHV0b3JpYWwtbW9kYWxcIjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJhdmF0YXItbW9kYWxcIjpcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbElkID0gXCJhdmF0YXItbW9kYWxcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEhhbmRsZXIuaW50ZXJ2YWwucmVzdW1lKCk7XHJcbiAgICAgICAgICAgIEhhbmRsZXIuY2xvc2VEaWFsb2cobW9kYWxJZCk7XHJcbiAgICAgICAgICAgIHBhd25VdGlsLmNhbk1vdmUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9wbGF5IGFnYWluIGFuZCByZXN0YXJ0IGJ1dHRvblxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYnRuLXBsYXktYWdhaW5cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHBsYXlBZ2Fpbik7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZXN0YXJ0XCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBwbGF5QWdhaW4pO1xyXG4gICAgICAgIGZ1bmN0aW9uIHBsYXlBZ2FpbigpIHtcclxuICAgICAgICAgICAgSGFuZGxlci5pbnRlcnZhbC5wYXVzZSgpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21haW4tY29udGFpbmVyXCIpLmlubmVySFRNTCA9IHN0YXJ0aW5nSFRNTDtcclxuICAgICAgICAgICAgc3RhcnQoZmFsc2UpO1xyXG4gICAgICAgICAgICBJbml0LnBsYXlBdWRpbygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9jcmVkaXRzXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjcmVkaXRzXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBzaG93Q3JlZGl0cyk7XHJcbiAgICAgICAgZnVuY3Rpb24gc2hvd0NyZWRpdHMoKSB7XHJcbiAgICAgICAgICAgIEhhbmRsZXIuY2xvc2VEaWFsb2coXCJ3aW4tbW9kYWxcIik7XHJcbiAgICAgICAgICAgIEhhbmRsZXIuZGlzcGxheU1vZGFsKFwiY3JlZGl0cy1tb2RhbFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjcmVkaXRzLWJhY2tcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhpZGVDcmVkaXRzKTtcclxuICAgICAgICBmdW5jdGlvbiBoaWRlQ3JlZGl0cygpIHtcclxuICAgICAgICAgICAgSGFuZGxlci5jbG9zZURpYWxvZyhcImNyZWRpdHMtbW9kYWxcIik7XHJcbiAgICAgICAgICAgIEhhbmRsZXIuZGlzcGxheU1vZGFsKFwid2luLW1vZGFsXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy90dXRvcmlhbFxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9wYnV0dG9ucy50dXRvcmlhbFwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgc2hvd1R1dG9yaWFsKTtcclxuICAgICAgICBmdW5jdGlvbiBzaG93VHV0b3JpYWwoKXtcclxuICAgICAgICAgICAgSGFuZGxlci5pbnRlcnZhbC5wYXVzZSgpO1xyXG4gICAgICAgICAgICBwYXduVXRpbC5jYW5Nb3ZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIEhhbmRsZXIuZGlzcGxheU1vZGFsKFwidHV0b3JpYWwtbW9kYWxcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3B1c2gtdGlsZXMtYnV0dG9uXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBzaG93UHVzaFRpbGVzKTtcclxuICAgICAgICBmdW5jdGlvbiBzaG93UHVzaFRpbGVzKCl7XHJcbiAgICAgICAgICAgIEhhbmRsZXIuY2xvc2VEaWFsb2coXCJ0dXRvcmlhbC1tb2RhbFwiKTtcclxuICAgICAgICAgICAgSGFuZGxlci5kaXNwbGF5TW9kYWwoXCJwdXNoLXRpbGVzLW1vZGFsXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjbG9zZS1wdXNoLXRpbGVzLW1vZGFsXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZVB1c2hUaWxlcyk7XHJcbiAgICAgICAgZnVuY3Rpb24gY2xvc2VQdXNoVGlsZXMoKSB7XHJcbiAgICAgICAgICAgIEhhbmRsZXIuY2xvc2VEaWFsb2coXCJwdXNoLXRpbGVzLW1vZGFsXCIpO1xyXG4gICAgICAgICAgICBIYW5kbGVyLmRpc3BsYXlNb2RhbChcInR1dG9yaWFsLW1vZGFsXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjbG9zZS10dXRvcmlhbC1tb2RhbFwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VNb2RhbCk7XHJcblxyXG4gICAgICAgIC8vd2VsY29tZSBtZXNzYWdlIGlmIGZpcnN0IGdhbWVcclxuICAgICAgICBpZihmaXJzdFJ1bil7XHJcbiAgICAgICAgICAgIEhhbmRsZXIuaW50ZXJ2YWwucGF1c2UoKTtcclxuICAgICAgICAgICAgcGF3blV0aWwuY2FuTW92ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBIYW5kbGVyLmRpc3BsYXlNb2RhbChcIndlbGNvbWUtbW9kYWxcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2J0bi1zdGFydFwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0b0F2YXRhcnMpO1xyXG5cclxuICAgICAgICAvL2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaG93LXRvLXBsYXlcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdG9UdXRvcmlhbCk7XHJcblxyXG4gICAgICAgIC8qZnVuY3Rpb24gdG9UdXRvcmlhbCgpe1xyXG4gICAgICAgICAgICBJbml0LnBsYXlBdWRpbygpO1xyXG4gICAgICAgICAgICBIYW5kbGVyLmNsb3NlRGlhbG9nKFwid2VsY29tZS1tb2RhbFwiKTtcclxuICAgICAgICAgICAgSGFuZGxlci5zaG93VHV0b3JpYWwoKTtcclxuICAgICAgICB9Ki9cclxuICAgICAgICAvL2F2YXRhcnNcclxuICAgICAgICBmdW5jdGlvbiB0b0F2YXRhcnMoKXtcclxuICAgICAgICAgICAgSW5pdC5wbGF5QXVkaW8oKTtcclxuICAgICAgICAgICAgSGFuZGxlci5jbG9zZURpYWxvZyhcIndlbGNvbWUtbW9kYWxcIik7XHJcbiAgICAgICAgICAgIEhhbmRsZXIuZGlzcGxheU1vZGFsKFwiYXZhdGFyLW1vZGFsXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5hdmF0YXItaWNvblwiKS5mb3JFYWNoKGRpdiA9PiB7XHJcbiAgICAgICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2hvb3NlQXZhdGFyKTtcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBjaG9vc2VBdmF0YXIoZXZ0KSB7XHJcbiAgICAgICAgICAgIGxldCBhdmF0YXJpZCA9IGV2dC5zcmNFbGVtZW50LmlkO1xyXG4gICAgICAgICAgICBIYW5kbGVyLnNldEF2YXRhcihhdmF0YXJpZCk7XHJcbiAgICAgICAgICAgIEhhbmRsZXIuY2xvc2VEaWFsb2coXCJhdmF0YXItbW9kYWxcIik7XHJcbiAgICAgICAgICAgIEhhbmRsZXIuaW50ZXJ2YWwucmVzdW1lKCk7XHJcbiAgICAgICAgICAgIHBhd25VdGlsLmNhbk1vdmUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbiAgICBzdGFydCh0cnVlKTtcclxufSk7XHJcblxyXG4iXSwibmFtZXMiOlsicG9pbnRzIiwidGhpcyIsImdhaW5Qb2ludCIsIndpbkdhbWUiLCJoYW5kbGVyIiwicGF3biIsImludGVydmFsIiwicGF1c2UiLCJjYW5Nb3ZlIiwiZGlzcGxheVdpbiIsInN0YXJ0VGltZXIiLCJjcmVhdGVIVE1MQm9hcmQiLCJib2FyZCIsImRpdkJvYXJkIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaW5uZXJIVE1MIiwicm93IiwiY29sIiwidGlsZW4iLCJjcm93IiwiY2NvbCIsImdyaWRuIiwiZ2NvbCIsImdyb3ciLCJwbGFjZVRpbGVzIiwiYm9hcmRSb3dzIiwiZm9yRWFjaCIsInJpIiwidGlsZXMiLCJ0aWxlIiwidGkiLCJjZWxscyIsImNlbGwiLCJjaSIsImlzV2Fsa2FibGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJoYXNDb25jZXB0IiwicGxhY2VQYXduIiwiY29vcmRzIiwicmVtb3ZlUGF3biIsInJlbW92ZSIsImdldERpdkNsYXNzZXNCeUNvb3JkcyIsIngiLCJ5IiwidmFsdWUiLCJzcGxpdCIsImdldFBhcmVudENlbGxEaXYiLCJjaGFuZ2VUaWxlT2NjdXBpZWQiLCJvbGRUaWxlbiIsIm5ld1RpbGVuIiwicGxhY2VFeHRyYVRpbGUiLCJkaXZFeHRyYVRpbGUiLCJsaW5lQ29udGFpbnNQYXduIiwibGluZSIsInJlc3BvbnNlIiwicXVlcnlTZWxlY3RvckFsbCIsInRpbGVEaXYiLCJjb250YWlucyIsInJlZnJlc2hMaW5lIiwicHVzaFRyYWNrIiwiZ2V0RWxlbWVudEJ5SWQiLCJjdXJyZW50VGltZSIsInBsYXkiLCJpbmNsdWRlcyIsImJvYXJkUm93IiwiYnJpIiwicGxhY2VHb2FsIiwiZ29hbCIsInNldFBvaW50cyIsInNlY29uZHMiLCJzdGFydFRpbWUiLCJ0aW1lciIsIm9iaiIsIm1zIiwicmVzdW1lIiwiRGF0ZSIsImdldFRpbWUiLCJzZXRJbnRlcnZhbCIsInN0ZXAiLCJjbGVhckludGVydmFsIiwibm93IiwiTWF0aCIsIm1heCIsIm0iLCJmbG9vciIsInMiLCJzMiIsImV4cGxvcmVDb25jZXB0IiwiY29uY2VwdCIsInJld2FyZFRyYWNrIiwiZGlzcGxheUNvbmNlcHQiLCJtYWluVHJhY2siLCJ3aW5UcmFjayIsInRpbWUiLCJtaW5zIiwic2VjcyIsImRpc3BsYXlNb2RhbCIsIm1vdmVQYXduIiwicHJldmlvdXNQb3MiLCJuZXdQb3MiLCJtb3ZlVHJhY2siLCJkZXNjcmlwdGlvbiIsImdhbWVDYXNlIiwiaW1hZ2UiLCJjbG9zZURpYWxvZyIsIm1vZGFsSWQiLCJjbG9zZVRyYWNrIiwibW9kYWwiLCJzdHlsZSIsImRpc3BsYXkiLCJyb3RhdGVTb3VuZCIsInJvdGF0ZVRyYWNrIiwiaWQiLCJzZXRBdmF0YXIiLCJyIiwic2V0UHJvcGVydHkiLCJjb25jZXB0RGVzIiwiY29uY2VwdEV4cGxvcmVkIiwicm90YXRlIiwiZGlyZWN0aW9uIiwidGltZXMiLCJpbmRleCIsInB1c2hMaW5lIiwidmVydGljYWxpdHkiLCJudW1iZXIiLCJleHRyYVRpbGUiLCJuZXdFeHRyYVRpbGUiLCJuZXdCb2FyZCIsImNsb25lQm9hcmQiLCJsZW5ndGgiLCJUaWxlIiwibmV3Qm9hcmRSb3dzIiwiYm9hcmRyb3ciLCJuZXdUaWxlcyIsIm5ld0NlbGxzIiwibmV3Q2VsbCIsIkdyaWRDZWxsIiwicHVzaCIsIm5ld1RpbGUiLCJuZXdCb2FyZFJvdyIsIkJvYXJkUm93IiwiQm9hcmQiLCJmaXhlZFRpbGVzIiwiZ29hbHMiLCJtYWluQ29uY2VwdHNDb25zdCIsInNlY29uZGFyeUNvbmNlcHRzQ29uc3QiLCJtYWluQ29uY2VwdHMiLCJzbGljZSIsInNlY29uZGFyeUNvbmNlcHRzIiwiZ2V0Q29uY2VwdCIsImdldE1haW5Db25jZXB0IiwiZ2V0U2Vjb25kYXJ5Q29uY2VwdCIsInJudW0iLCJyYW5kb20iLCJyZXNwIiwic3BsaWNlIiwicmFuZG9tVGlsZXMiLCJjcmVhdGVNb3ZlYWJsZVRpbGVzIiwiY3JlYXRlQm9hcmQiLCJ0YWtlblRpbGVzIiwidGFrZU5UaWxlcyIsInNldFN0YXJ0aW5nUG9zaXRpb24iLCJ0ZW1wbGF0ZVN0cmFpZ2h0VGlsZUdyaWQiLCJncmlkQ29weSIsInN0cmFpZ2h0VGlsZSIsInRlbXBsYXRlVFRpbGVHcmlkIiwiVFRpbGUiLCJ0ZW1wbGF0ZVR1cm5UaWxlR3JpZCIsIlR1cm5UaWxlIiwibiIsImkiLCJyVGlsZSIsInJuIiwiZ2V0RXh0cmFUaWxlIiwic2V0R29hbCIsImdvYWxuIiwic2V0Q29uY2VwdHMiLCJtekNvbmNlcHRzIiwicGxheUF1ZGlvIiwidm9sdW1lIiwicGF3blgiLCJwYXduWSIsImdhbWUiLCJuZXdYIiwibmV3WSIsImdldFBhd25Db29yZHMiLCJsaW5lTmFtZXMiLCJ0aWxlcm93MCIsImxpbmVzIiwibGluZU5hbWUiLCJvcHBvc2VkTGluZSIsInRpbGVyb3c4IiwidGlsZWNvbDAiLCJ0aWxlY29sOCIsImJvcmRlclJvd3MiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwic3RhcnQiLCJmaXJzdFJ1biIsInN0YXJ0aW5nSFRNTCIsIkluaXQiLCJtek9uSW5pdCIsIm16Q29uY2VwdCIsIkdhbWUiLCJIYW5kbGVyIiwiaHRtbEhhbmRsZXIiLCJzdGFydGluZ1BvcyIsInBhd25VdGlsIiwibXpQYXduIiwiY2hlY2tBcnJvdyIsImV2dCIsImFycm93SWQiLCJ0YXJnZXQiLCJwYXduTW92ZWQiLCJwcmV2aW91c1Bhd25Qb3MiLCJwdXNoVGlsZXMiLCJzcmNFbGVtZW50IiwiYm9yZGVyUm93IiwiY2xvc2VNb2RhbCIsInBsYXlBZ2FpbiIsImNob29zZUF2YXRhciIsImF2YXRhcmlkIiwib25rZXlkb3duIiwiZSIsImV2ZW50Iiwia2V5Q29kZSIsImRpdiJdLCJzb3VyY2VSb290IjoiIn0=